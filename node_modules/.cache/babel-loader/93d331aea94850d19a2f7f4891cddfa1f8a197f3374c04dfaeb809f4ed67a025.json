{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/OnDutyPage.js\nimport React,{useState,useEffect,useCallback,memo}from'react';import{MapContainer,TileLayer,Marker,Popup,GeoJSON,Circle}from'react-leaflet';import{ArrowLeft,Siren,Shield,ShieldCheck,ShieldX,MapPin,Map as MapIcon,X}from'lucide-react';import L from'leaflet';import ReactDOMServer from'react-dom/server';// --- Helper Functions ---\n// Haversine distance formula to calculate distance between two lat/lon points in meters\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const getDistance=(pos1,pos2)=>{const R=6371e3;// metres\nconst φ1=pos1.lat*Math.PI/180;// φ, λ in radians\nconst φ2=pos2.lat*Math.PI/180;const Δφ=(pos2.lat-pos1.lat)*Math.PI/180;const Δλ=(pos2.lng-pos1.lng)*Math.PI/180;const a=Math.sin(Δφ/2)*Math.sin(Δφ/2)+Math.cos(φ1)*Math.cos(φ2)*Math.sin(Δλ/2)*Math.sin(Δλ/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;// in metres\n};// --- Custom Icon Components ---\nconst createIcon=(IconComponent,colorClass)=>{return L.divIcon({html:ReactDOMServer.renderToString(/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full shadow-lg \".concat(colorClass),children:/*#__PURE__*/_jsx(IconComponent,{className:\"w-6 h-6 text-white\"})})),className:'bg-transparent border-0',iconSize:[40,40],iconAnchor:[20,20]});};const icons={checked:createIcon(ShieldCheck,'bg-green-500'),unchecked:createIcon(Shield,'bg-blue-500'),too_far:createIcon(ShieldX,'bg-slate-400'),user:L.divIcon({html:ReactDOMServer.renderToString(/*#__PURE__*/_jsx(MapPin,{className:\"w-8 h-8 text-red-600\",fill:\"#dc2626\"})),className:'bg-transparent border-0',iconSize:[32,32],iconAnchor:[16,32]})};// --- Mock Data ---\nconst initialCheckpoints=[{id:1,name:'จุดตรวจ 1',position:{lat:13.815525,lng:100.574563}},{id:2,name:'จุดตรวจ 2',position:{lat:13.813326,lng:100.574470}},{id:3,name:'จุดตรวจ 3',position:{lat:13.812038,lng:100.574420}},{id:4,name:'จุดตรวจ 4',position:{lat:13.811887,lng:100.574177}},{id:5,name:'จุดตรวจ 5',position:{lat:13.810476,lng:100.574670}},{id:6,name:'จุดตรวจ 6',position:{lat:13.812550,lng:100.574837}},{id:7,name:'จุดตรวจ 7',position:{lat:13.815087,lng:100.575076}},{id:8,name:'จุดตรวจ 8',position:{lat:13.816996,lng:100.574602}}];const areaOfResponsibility={type:\"Feature\",properties:{},geometry:{type:\"Polygon\",coordinates:[[[100.57456389344763,13.815525173156669],[100.57447044838288,13.813326697354299],[100.57442015030517,13.812038032093449],[100.5741773844628,13.81188700722482],[100.57467050258525,13.810476209195874],[100.57483740410827,13.812550042505428],[100.5750763767396,13.81508797684313],[100.5746022247016,13.816996013762614],[100.57456389344763,13.815525173156669]// Close the polygon\n]]}};const areaStyle={fillColor:\"#3b82f6\",// A nice, modern blue\nfillOpacity:0.15,// Slightly more visible\ncolor:\"#2563eb\",// A matching, slightly darker border\nweight:2,// Thicker border\ndashArray:'5, 10'// Dashed line style for a modern look\n};const CHECK_IN_RADIUS=50;// meters\n// --- Sub-components ---\nconst CheckpointItem=/*#__PURE__*/memo(_ref=>{let{point,onCheckIn}=_ref;const statusInfo={checked:{icon:ShieldCheck,color:'text-green-500',text:'ตรวจแล้ว'},unchecked:{icon:Shield,color:'text-blue-500',text:'ยังไม่ตรวจ (อยู่ในระยะ)'},too_far:{icon:ShieldX,color:'text-slate-400',text:'อยู่ไกลเกินไป'}}[point.status];const Icon=statusInfo.icon;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col sm:flex-row sm:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 flex-1\",children:[/*#__PURE__*/_jsx(Icon,{className:\"w-8 h-8 flex-shrink-0 \".concat(statusInfo.color)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-slate-800\",children:point.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(statusInfo.color),children:statusInfo.text}),point.distance!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-500\",children:[\"\\u0E23\\u0E30\\u0E22\\u0E30\\u0E2B\\u0E48\\u0E32\\u0E07: \",point.distance<1000?\"\".concat(point.distance,\" \\u0E21.\"):\"\".concat((point.distance/1000).toFixed(1),\" \\u0E01\\u0E21.\")]})]})]}),point.status==='unchecked'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onCheckIn(point.id),className:\"w-full sm:w-auto bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200\",children:\"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E01\\u0E32\\u0E23\\u0E15\\u0E23\\u0E27\\u0E08\"})]});});const MapView=/*#__PURE__*/memo(_ref2=>{let{userLocation,checkpoints,area,areaStyle,radius,onClose}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 z-[1001] flex items-center justify-center animate-fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full bg-white\",children:[/*#__PURE__*/_jsxs(MapContainer,{center:userLocation||{lat:13.813,lng:100.5745},zoom:17,style:{height:'100%',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors \\xA9 <a href=\\\"https://carto.com/attributions\\\">CARTO</a>\"}),/*#__PURE__*/_jsx(GeoJSON,{data:area,style:areaStyle}),userLocation&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Marker,{position:userLocation,icon:icons.user}),/*#__PURE__*/_jsx(Circle,{center:userLocation,radius:radius,pathOptions:{color:'blue',fillColor:'blue',fillOpacity:0.1,weight:1}})]}),checkpoints.map(point=>/*#__PURE__*/_jsx(Marker,{position:point.position,icon:icons[point.status],children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center font-sans\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold\",children:point.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30: \",{checked:'ตรวจแล้ว',unchecked:'ยังไม่ตรวจ',too_far:'อยู่ไกลเกินไป'}[point.status]]}),point.distance!==undefined&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0E23\\u0E30\\u0E22\\u0E30\\u0E2B\\u0E48\\u0E32\\u0E07: \",point.distance,\" \\u0E40\\u0E21\\u0E15\\u0E23\"]})]})})},point.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-4 right-4 bg-white/80 backdrop-blur-md p-2 rounded-full shadow-lg hover:bg-slate-100 z-[1002]\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6 text-slate-700\"})})]})});});// --- Main Component ---\nconst OnDutyPage=()=>{const[userLocation,setUserLocation]=useState(null);const[checkpoints,setCheckpoints]=useState(()=>initialCheckpoints.map(p=>_objectSpread(_objectSpread({},p),{},{status:'too_far',distance:null})));const[isMapVisible,setMapVisible]=useState(false);const[error,setError]=useState(null);// Update checkpoint statuses based on user location\nuseEffect(()=>{if(!userLocation)return;setCheckpoints(prevCheckpoints=>prevCheckpoints.map(point=>{if(point.status==='checked')return point;// Don't change already checked points\nconst distance=getDistance(userLocation,point.position);const newStatus=distance<=CHECK_IN_RADIUS?'unchecked':'too_far';return _objectSpread(_objectSpread({},point),{},{status:newStatus,distance:Math.round(distance)});}));},[userLocation]);// Get user's real-time location\nuseEffect(()=>{const watchId=navigator.geolocation.watchPosition(position=>{const{latitude,longitude}=position.coords;setUserLocation({lat:latitude,lng:longitude});},error=>{console.error(\"Geolocation error:\",error);setError(\"ไม่สามารถเข้าถึงตำแหน่งของคุณได้ กรุณาตรวจสอบการตั้งค่าเบราว์เซอร์\");// alert(\"ไม่สามารถเข้าถึงตำแหน่งของคุณได้ กรุณาตรวจสอบการตั้งค่าเบราว์เซอร์\");\n},{enableHighAccuracy:true,timeout:10000,maximumAge:0});return()=>navigator.geolocation.clearWatch(watchId);},[]);const handleCheckIn=pointId=>{setCheckpoints(prev=>prev.map(p=>p.id===pointId?_objectSpread(_objectSpread({},p),{},{status:'checked'}):p));};const handleGoBack=()=>window.history.back();const handleSOS=()=>alert(\"ส่งคำขอความช่วยเหลือฉุกเฉินแล้ว! เจ้าหน้าที่กำลังไปที่ตำแหน่งของคุณ\");return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-slate-50 z-[1000] flex flex-col\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white/80 backdrop-blur-md shadow-sm z-10 flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-slate-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleGoBack,className:\"p-2 rounded-full hover:bg-slate-100\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-6 h-6 text-slate-700\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-slate-800\",children:\"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\\u0E40\\u0E02\\u0E49\\u0E32\\u0E40\\u0E27\\u0E23\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10\"}),\" \"]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E23\\u0E23\\u0E30\\u0E27\\u0E31\\u0E07\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-white rounded-xl border border-slate-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E08\\u0E38\\u0E14\\u0E15\\u0E23\\u0E27\\u0E08\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E15\\u0E23\\u0E27\\u0E08\\u0E15\\u0E32\\u0E21\\u0E08\\u0E38\\u0E14\\u0E17\\u0E35\\u0E48\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E43\\u0E2B\\u0E49\\u0E04\\u0E23\\u0E1A\\u0E16\\u0E49\\u0E27\\u0E19\"})]}),checkpoints.map(point=>/*#__PURE__*/_jsx(CheckpointItem,{point:point,onCheckIn:handleCheckIn},point.id))]}),isMapVisible&&/*#__PURE__*/_jsx(MapView,{userLocation:userLocation,checkpoints:checkpoints,area:areaOfResponsibility,areaStyle:areaStyle,radius:CHECK_IN_RADIUS,onClose:()=>setMapVisible(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-8 right-4 z-20 flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSOS,className:\"flex items-center justify-center w-16 h-16 bg-red-600 text-white rounded-full shadow-2xl transform active:scale-90 transition-transform duration-200 animate-pulse\",children:/*#__PURE__*/_jsx(Siren,{className:\"w-8 h-8\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMapVisible(true),className:\"flex items-center justify-center w-16 h-16 bg-blue-600 text-white rounded-full shadow-2xl transform active:scale-90 transition-transform duration-200\",children:/*#__PURE__*/_jsx(MapIcon,{className:\"w-8 h-8\"})})]})]});};export default OnDutyPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","memo","MapContainer","TileLayer","Marker","Popup","GeoJSON","Circle","ArrowLeft","Siren","Shield","ShieldCheck","ShieldX","MapPin","Map","MapIcon","X","L","ReactDOMServer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getDistance","pos1","pos2","R","φ1","lat","Math","PI","φ2","Δφ","Δλ","lng","a","sin","cos","c","atan2","sqrt","createIcon","IconComponent","colorClass","divIcon","html","renderToString","className","concat","children","iconSize","iconAnchor","icons","checked","unchecked","too_far","user","fill","initialCheckpoints","id","name","position","areaOfResponsibility","type","properties","geometry","coordinates","areaStyle","fillColor","fillOpacity","color","weight","dashArray","CHECK_IN_RADIUS","CheckpointItem","_ref","point","onCheckIn","statusInfo","icon","text","status","Icon","distance","toFixed","onClick","MapView","_ref2","userLocation","checkpoints","area","radius","onClose","center","zoom","style","height","width","url","attribution","data","pathOptions","map","undefined","OnDutyPage","setUserLocation","setCheckpoints","p","_objectSpread","isMapVisible","setMapVisible","error","setError","prevCheckpoints","newStatus","round","watchId","navigator","geolocation","watchPosition","latitude","longitude","coords","console","enableHighAccuracy","timeout","maximumAge","clearWatch","handleCheckIn","pointId","prev","handleGoBack","window","history","back","handleSOS","alert","role"],"sources":["C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/src/pages/OnDutyPage.js"],"sourcesContent":["// src/pages/OnDutyPage.js\r\nimport React, { useState, useEffect, useCallback, memo } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, GeoJSON, Circle } from 'react-leaflet';\r\nimport { ArrowLeft, Siren, Shield, ShieldCheck, ShieldX, MapPin, Map as MapIcon, X } from 'lucide-react';\r\nimport L from 'leaflet';\r\nimport ReactDOMServer from 'react-dom/server';\r\n\r\n// --- Helper Functions ---\r\n\r\n// Haversine distance formula to calculate distance between two lat/lon points in meters\r\nconst getDistance = (pos1, pos2) => {\r\n  const R = 6371e3; // metres\r\n  const φ1 = pos1.lat * Math.PI / 180; // φ, λ in radians\r\n  const φ2 = pos2.lat * Math.PI / 180;\r\n  const Δφ = (pos2.lat - pos1.lat) * Math.PI / 180;\r\n  const Δλ = (pos2.lng - pos1.lng) * Math.PI / 180;\r\n\r\n  const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n            Math.cos(φ1) * Math.cos(φ2) *\r\n            Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n  return R * c; // in metres\r\n};\r\n\r\n// --- Custom Icon Components ---\r\n\r\nconst createIcon = (IconComponent, colorClass) => {\r\n  return L.divIcon({\r\n    html: ReactDOMServer.renderToString(\r\n      <div className={`p-2 rounded-full shadow-lg ${colorClass}`}>\r\n        <IconComponent className=\"w-6 h-6 text-white\" />\r\n      </div>\r\n    ),\r\n    className: 'bg-transparent border-0',\r\n    iconSize: [40, 40],\r\n    iconAnchor: [20, 20],\r\n  });\r\n};\r\n\r\nconst icons = {\r\n  checked: createIcon(ShieldCheck, 'bg-green-500'),\r\n  unchecked: createIcon(Shield, 'bg-blue-500'),\r\n  too_far: createIcon(ShieldX, 'bg-slate-400'),\r\n  user: L.divIcon({\r\n    html: ReactDOMServer.renderToString(\r\n        <MapPin className=\"w-8 h-8 text-red-600\" fill=\"#dc2626\" />\r\n    ),\r\n    className: 'bg-transparent border-0',\r\n    iconSize: [32, 32],\r\n    iconAnchor: [16, 32],\r\n  })\r\n};\r\n\r\n// --- Mock Data ---\r\n\r\nconst initialCheckpoints = [\r\n  { id: 1, name: 'จุดตรวจ 1', position: { lat: 13.815525, lng: 100.574563 } },\r\n  { id: 2, name: 'จุดตรวจ 2', position: { lat: 13.813326, lng: 100.574470 } },\r\n  { id: 3, name: 'จุดตรวจ 3', position: { lat: 13.812038, lng: 100.574420 } },\r\n  { id: 4, name: 'จุดตรวจ 4', position: { lat: 13.811887, lng: 100.574177 } },\r\n  { id: 5, name: 'จุดตรวจ 5', position: { lat: 13.810476, lng: 100.574670 } },\r\n  { id: 6, name: 'จุดตรวจ 6', position: { lat: 13.812550, lng: 100.574837 } },\r\n  { id: 7, name: 'จุดตรวจ 7', position: { lat: 13.815087, lng: 100.575076 } },\r\n  { id: 8, name: 'จุดตรวจ 8', position: { lat: 13.816996, lng: 100.574602 } },\r\n];\r\n\r\nconst areaOfResponsibility = {\r\n  type: \"Feature\",\r\n  properties: {},\r\n  geometry: {\r\n    type: \"Polygon\",\r\n    coordinates: [[\r\n      [100.57456389344763, 13.815525173156669],\r\n      [100.57447044838288, 13.813326697354299],\r\n      [100.57442015030517, 13.812038032093449],\r\n      [100.5741773844628, 13.81188700722482],\r\n      [100.57467050258525, 13.810476209195874],\r\n      [100.57483740410827, 13.812550042505428],\r\n      [100.5750763767396, 13.81508797684313],\r\n      [100.5746022247016, 13.816996013762614],\r\n      [100.57456389344763, 13.815525173156669] // Close the polygon\r\n    ]]\r\n  }\r\n};\r\n\r\nconst areaStyle = { \r\n  fillColor: \"#3b82f6\",    // A nice, modern blue\r\n  fillOpacity: 0.15,       // Slightly more visible\r\n  color: \"#2563eb\",        // A matching, slightly darker border\r\n  weight: 2,               // Thicker border\r\n  dashArray: '5, 10'       // Dashed line style for a modern look\r\n};\r\n\r\nconst CHECK_IN_RADIUS = 50; // meters\r\n\r\n// --- Sub-components ---\r\n\r\nconst CheckpointItem = memo(({ point, onCheckIn }) => {\r\n  const statusInfo = {\r\n    checked: { icon: ShieldCheck, color: 'text-green-500', text: 'ตรวจแล้ว' },\r\n    unchecked: { icon: Shield, color: 'text-blue-500', text: 'ยังไม่ตรวจ (อยู่ในระยะ)' },\r\n    too_far: { icon: ShieldX, color: 'text-slate-400', text: 'อยู่ไกลเกินไป' },\r\n  }[point.status];\r\n\r\n  const Icon = statusInfo.icon;\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col sm:flex-row sm:items-center gap-4\">\r\n      <div className=\"flex items-center gap-4 flex-1\">\r\n        <Icon className={`w-8 h-8 flex-shrink-0 ${statusInfo.color}`} />\r\n        <div>\r\n          <h3 className=\"font-bold text-slate-800\">{point.name}</h3>\r\n          <p className={`text-sm ${statusInfo.color}`}>{statusInfo.text}</p>\r\n          {point.distance !== null && (\r\n            <p className=\"text-xs text-slate-500\">\r\n              ระยะห่าง: {point.distance < 1000 ? `${point.distance} ม.` : `${(point.distance / 1000).toFixed(1)} กม.`}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {point.status === 'unchecked' && (\r\n        <button\r\n          onClick={() => onCheckIn(point.id)}\r\n          className=\"w-full sm:w-auto bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200\"\r\n        >\r\n          ยืนยันการตรวจ\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst MapView = memo(({ userLocation, checkpoints, area, areaStyle, radius, onClose }) => (\r\n  <div className=\"fixed inset-0 bg-black/50 z-[1001] flex items-center justify-center animate-fade-in\">\r\n    <div className=\"relative w-full h-full bg-white\">\r\n      <MapContainer center={userLocation || { lat: 13.813, lng: 100.5745 }} zoom={17} style={{ height: '100%', width: '100%' }}>\r\n        <TileLayer\r\n          url=\"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\r\n        />\r\n        <GeoJSON data={area} style={areaStyle} />\r\n\r\n        {userLocation && (\r\n          <>\r\n            <Marker position={userLocation} icon={icons.user} />\r\n            <Circle\r\n              center={userLocation}\r\n              radius={radius}\r\n              pathOptions={{ color: 'blue', fillColor: 'blue', fillOpacity: 0.1, weight: 1 }}\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {checkpoints.map(point => (\r\n          <Marker key={point.id} position={point.position} icon={icons[point.status]}>\r\n            <Popup>\r\n              <div className=\"text-center font-sans\">\r\n                <h3 className=\"font-bold\">{point.name}</h3>\r\n                <p>สถานะ: {{ checked: 'ตรวจแล้ว', unchecked: 'ยังไม่ตรวจ', too_far: 'อยู่ไกลเกินไป' }[point.status]}</p>\r\n                {point.distance !== undefined && <p>ระยะห่าง: {point.distance} เมตร</p>}\r\n              </div>\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n      </MapContainer>\r\n      <button\r\n        onClick={onClose}\r\n        className=\"absolute top-4 right-4 bg-white/80 backdrop-blur-md p-2 rounded-full shadow-lg hover:bg-slate-100 z-[1002]\"\r\n      >\r\n        <X className=\"w-6 h-6 text-slate-700\" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n));\r\n\r\n// --- Main Component ---\r\n\r\nconst OnDutyPage = () => {\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [checkpoints, setCheckpoints] = useState(() => \r\n    initialCheckpoints.map(p => ({ ...p, status: 'too_far', distance: null }))\r\n  );\r\n  const [isMapVisible, setMapVisible] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Update checkpoint statuses based on user location\r\n  useEffect(() => {\r\n    if (!userLocation) return;\r\n\r\n    setCheckpoints(prevCheckpoints =>\r\n      prevCheckpoints.map(point => {\r\n        if (point.status === 'checked') return point; // Don't change already checked points\r\n        \r\n        const distance = getDistance(userLocation, point.position);\r\n        const newStatus = distance <= CHECK_IN_RADIUS ? 'unchecked' : 'too_far';\r\n        \r\n        return { ...point, status: newStatus, distance: Math.round(distance) };\r\n      })\r\n    );\r\n  }, [userLocation]);\r\n\r\n  // Get user's real-time location\r\n  useEffect(() => {\r\n    const watchId = navigator.geolocation.watchPosition(\r\n      (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setUserLocation({ lat: latitude, lng: longitude });\r\n      },\r\n      (error) => {\r\n        console.error(\"Geolocation error:\", error);\r\n        setError(\"ไม่สามารถเข้าถึงตำแหน่งของคุณได้ กรุณาตรวจสอบการตั้งค่าเบราว์เซอร์\");\r\n        // alert(\"ไม่สามารถเข้าถึงตำแหน่งของคุณได้ กรุณาตรวจสอบการตั้งค่าเบราว์เซอร์\");\r\n      },\r\n      { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\r\n    );\r\n\r\n    return () => navigator.geolocation.clearWatch(watchId);\r\n  }, []);\r\n\r\n  const handleCheckIn = (pointId) => {\r\n    setCheckpoints(prev =>\r\n      prev.map(p => (p.id === pointId ? { ...p, status: 'checked' } : p))\r\n    );\r\n  };\r\n\r\n  const handleGoBack = () => window.history.back();\r\n  const handleSOS = () => alert(\"ส่งคำขอความช่วยเหลือฉุกเฉินแล้ว! เจ้าหน้าที่กำลังไปที่ตำแหน่งของคุณ\");\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-slate-50 z-[1000] flex flex-col\">\r\n      <header className=\"bg-white/80 backdrop-blur-md shadow-sm z-10 flex-shrink-0\">\r\n        <div className=\"flex items-center justify-between p-4 border-b border-slate-200\">\r\n          <button onClick={handleGoBack} className=\"p-2 rounded-full hover:bg-slate-100\">\r\n            <ArrowLeft className=\"w-6 h-6 text-slate-700\" />\r\n          </button>\r\n          <h1 className=\"text-xl font-bold text-slate-800\">หน้าสำหรับเจ้าหน้าที่เข้าเวร</h1>\r\n          <div className=\"w-10\"></div> {/* Spacer */}\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        {error && (\r\n          <div className=\"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md\" role=\"alert\">\r\n            <p className=\"font-bold\">ข้อควรระวัง</p>\r\n            <p>{error}</p>\r\n          </div>\r\n        )}\r\n        <div className=\"text-center p-4 bg-white rounded-xl border border-slate-200\">\r\n          <h2 className=\"text-lg font-semibold\">รายการจุดตรวจ</h2>\r\n          <p className=\"text-sm text-slate-500\">กรุณาตรวจตามจุดที่กำหนดให้ครบถ้วน</p>\r\n        </div>\r\n        {checkpoints.map(point => (\r\n          <CheckpointItem key={point.id} point={point} onCheckIn={handleCheckIn} />\r\n        ))}\r\n      </main>\r\n\r\n      {isMapVisible && (\r\n        <MapView\r\n          userLocation={userLocation}\r\n          checkpoints={checkpoints}\r\n          area={areaOfResponsibility}\r\n          areaStyle={areaStyle}\r\n          radius={CHECK_IN_RADIUS}\r\n          onClose={() => setMapVisible(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Floating Action Buttons */}\r\n      <div className=\"absolute bottom-8 right-4 z-20 flex flex-col gap-4\">\r\n        <button \r\n          onClick={handleSOS}\r\n          className=\"flex items-center justify-center w-16 h-16 bg-red-600 text-white rounded-full shadow-2xl transform active:scale-90 transition-transform duration-200 animate-pulse\"\r\n        >\r\n          <Siren className=\"w-8 h-8\" />\r\n        </button>\r\n        <button \r\n          onClick={() => setMapVisible(true)}\r\n          className=\"flex items-center justify-center w-16 h-16 bg-blue-600 text-white rounded-full shadow-2xl transform active:scale-90 transition-transform duration-200\"\r\n        >\r\n          <MapIcon className=\"w-8 h-8\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OnDutyPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}