{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apiwa\\\\Documents\\\\GitHub\\\\C\\\\src\\\\components\\\\UnitStructure\\\\CurrentMemberCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Crown, Star, User, Trash2, Edit } from 'lucide-react';\nimport { CONFIG } from '../../config';\nimport { useAlert } from '../common/AlertSystem';\n\n// Component สำหรับแสดงบุคลากรปัจจุบัน\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CurrentMemberCard = ({\n  member,\n  onRefresh,\n  onEdit\n}) => {\n  _s();\n  const {\n    success,\n    error\n  } = useAlert();\n  const handleDelete = async structureId => {\n    if (!window.confirm('คุณต้องการลบข้อมูลนี้หรือไม่?')) return;\n    try {\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}/${structureId}`, {\n        method: 'DELETE'\n      });\n      const data = await response.json();\n      if (data.success) {\n        success('ลบข้อมูลสำเร็จ');\n        onRefresh();\n      } else {\n        error(data.message || 'เกิดข้อผิดพลาดในการลบข้อมูล');\n      }\n    } catch (err) {\n      console.error('Error deleting structure:', err);\n      error('เกิดข้อผิดพลาดในการลบข้อมูล');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between p-3 bg-slate-50 rounded-lg border\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-8 h-8 rounded-full flex items-center justify-center ${member.role === 'director' ? 'bg-purple-100 text-purple-600' : member.role === 'supervisor' ? 'bg-blue-100 text-blue-600' : 'bg-green-100 text-green-600'}`,\n        children: member.role === 'director' ? /*#__PURE__*/_jsxDEV(Crown, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 41\n        }, this) : member.role === 'supervisor' ? /*#__PURE__*/_jsxDEV(Star, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 43\n        }, this) : /*#__PURE__*/_jsxDEV(User, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-slate-800\",\n          children: member.full_name || `${member.prefix || ''} ${member.firstname || ''} ${member.lastname || ''}`.trim()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-500\",\n          children: [member.role === 'director' ? 'ผู้อำนวยการ' : member.role === 'supervisor' ? 'หัวหน้าส่วน' : 'เจ้าหน้าที่', member.role !== 'director' && ` (ลำดับที่ ${member.seniority_order})`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onEdit(member),\n        className: \"p-1 text-slate-400 hover:text-blue-600 rounded\",\n        title: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\",\n        children: /*#__PURE__*/_jsxDEV(Edit, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleDelete(member.id),\n        className: \"p-1 text-slate-400 hover:text-red-600 rounded\",\n        title: \"\\u0E25\\u0E1A\",\n        children: /*#__PURE__*/_jsxDEV(Trash2, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(CurrentMemberCard, \"Y51InRUe5Sb3QOL2tEdHGdUO0iw=\", false, function () {\n  return [useAlert];\n});\n_c = CurrentMemberCard;\nexport default CurrentMemberCard;\nvar _c;\n$RefreshReg$(_c, \"CurrentMemberCard\");","map":{"version":3,"names":["React","Crown","Star","User","Trash2","Edit","CONFIG","useAlert","jsxDEV","_jsxDEV","CurrentMemberCard","member","onRefresh","onEdit","_s","success","error","handleDelete","structureId","window","confirm","response","fetch","UNIT_STRUCTURE_API","method","data","json","message","err","console","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","full_name","prefix","firstname","lastname","trim","seniority_order","onClick","title","id","_c","$RefreshReg$"],"sources":["C:/Users/apiwa/Documents/GitHub/C/src/components/UnitStructure/CurrentMemberCard.js"],"sourcesContent":["import React from 'react';\r\nimport { Crown, Star, User, Trash2, Edit } from 'lucide-react';\r\nimport { CONFIG } from '../../config';\r\nimport { useAlert } from '../common/AlertSystem';\r\n\r\n// Component สำหรับแสดงบุคลากรปัจจุบัน\r\nconst CurrentMemberCard = ({ member, onRefresh, onEdit }) => {\r\n  const { success, error } = useAlert();\r\n  const handleDelete = async (structureId) => {\r\n    if (!window.confirm('คุณต้องการลบข้อมูลนี้หรือไม่?')) return;\r\n\r\n    try {\r\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}/${structureId}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        success('ลบข้อมูลสำเร็จ');\r\n        onRefresh();\r\n      } else {\r\n        error(data.message || 'เกิดข้อผิดพลาดในการลบข้อมูล');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting structure:', err);\r\n      error('เกิดข้อผิดพลาดในการลบข้อมูล');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg border\">\r\n      <div className=\"flex items-center space-x-3\">\r\n        <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\r\n          member.role === 'director' ? 'bg-purple-100 text-purple-600' :\r\n          member.role === 'supervisor' ? 'bg-blue-100 text-blue-600' :\r\n          'bg-green-100 text-green-600'\r\n        }`}>\r\n          {member.role === 'director' ? <Crown className=\"w-4 h-4\" /> :\r\n           member.role === 'supervisor' ? <Star className=\"w-4 h-4\" /> :\r\n           <User className=\"w-4 h-4\" />}\r\n        </div>\r\n        <div>\r\n          <div className=\"font-medium text-slate-800\">\r\n            {member.full_name || `${member.prefix || ''} ${member.firstname || ''} ${member.lastname || ''}`.trim()}\r\n          </div>\r\n          <div className=\"text-sm text-slate-500\">\r\n            {member.role === 'director' ? 'ผู้อำนวยการ' :\r\n             member.role === 'supervisor' ? 'หัวหน้าส่วน' :\r\n             'เจ้าหน้าที่'} \r\n            {member.role !== 'director' && ` (ลำดับที่ ${member.seniority_order})`}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center space-x-1\">\r\n        <button\r\n          onClick={() => onEdit(member)}\r\n          className=\"p-1 text-slate-400 hover:text-blue-600 rounded\"\r\n          title=\"แก้ไข\"\r\n        >\r\n          <Edit className=\"w-4 h-4\" />\r\n        </button>\r\n        <button\r\n          onClick={() => handleDelete(member.id)}\r\n          className=\"p-1 text-slate-400 hover:text-red-600 rounded\"\r\n          title=\"ลบ\"\r\n        >\r\n          <Trash2 className=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentMemberCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}