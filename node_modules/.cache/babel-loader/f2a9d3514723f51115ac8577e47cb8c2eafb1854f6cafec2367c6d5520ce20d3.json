{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apiwa\\\\Documents\\\\GitHub\\\\C\\\\src\\\\components\\\\UnitStructure\\\\AvailableOfficerCard.js\";\nimport React from 'react';\nimport { User, Plus } from 'lucide-react';\nimport { CONFIG } from '../../config';\nimport { useAlert } from '../common/AlertSystem';\n\n// Component สำหรับแสดงเจ้าหน้าที่ที่สามารถเพิ่มได้\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AvailableOfficerCard = ({\n  officer,\n  selectedUnit,\n  isMultipleMode,\n  isSelected,\n  onToggleSelect,\n  onAddSingle\n}) => {\n  const handleAddSingle = async () => {\n    const defaultRole = selectedUnit.isDirector ? 'director' : 'member';\n    const defaultSeniorityOrder = 1;\n    try {\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          position_number: officer.position_number,\n          unit_code: selectedUnit.unit_code,\n          unit_name: selectedUnit.unit_name,\n          role: defaultRole,\n          seniority_order: defaultSeniorityOrder\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert('เพิ่มบุคลากรสำเร็จ');\n        onAddSingle();\n      } else {\n        var _data$errors;\n        alert(data.message || ((_data$errors = data.errors) === null || _data$errors === void 0 ? void 0 : _data$errors.join(', ')) || 'เกิดข้อผิดพลาดในการเพิ่มบุคลากร');\n      }\n    } catch (error) {\n      alert('เกิดข้อผิดพลาดในการเชื่อมต่อ API');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all ${isSelected ? 'bg-indigo-50 border-indigo-300' : 'bg-white border-slate-200 hover:bg-slate-50'}`,\n    onClick: () => isMultipleMode ? onToggleSelect(officer.position_number) : handleAddSingle(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(User, {\n          className: \"w-4 h-4 text-slate-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-slate-800\",\n          children: [officer.prefix, \" \", officer.firstname, \" \", officer.lastname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-500\",\n          children: [\"\\u0E40\\u0E25\\u0E02\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07: \", officer.position_number]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), isMultipleMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-5 h-5 rounded border-2 flex items-center justify-center ${isSelected ? 'bg-indigo-600 border-indigo-600' : 'border-slate-300'}`,\n      children: isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2 h-2 bg-white rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-indigo-600\",\n      children: /*#__PURE__*/_jsxDEV(Plus, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_c = AvailableOfficerCard;\nexport default AvailableOfficerCard;\nvar _c;\n$RefreshReg$(_c, \"AvailableOfficerCard\");","map":{"version":3,"names":["React","User","Plus","CONFIG","useAlert","jsxDEV","_jsxDEV","AvailableOfficerCard","officer","selectedUnit","isMultipleMode","isSelected","onToggleSelect","onAddSingle","handleAddSingle","defaultRole","isDirector","defaultSeniorityOrder","response","fetch","UNIT_STRUCTURE_API","method","headers","body","JSON","stringify","position_number","unit_code","unit_name","role","seniority_order","data","json","success","alert","_data$errors","message","errors","join","error","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","prefix","firstname","lastname","_c","$RefreshReg$"],"sources":["C:/Users/apiwa/Documents/GitHub/C/src/components/UnitStructure/AvailableOfficerCard.js"],"sourcesContent":["import React from 'react';\r\nimport { User, Plus } from 'lucide-react';\r\nimport { CONFIG } from '../../config';\r\nimport { useAlert } from '../common/AlertSystem';\r\n\r\n// Component สำหรับแสดงเจ้าหน้าที่ที่สามารถเพิ่มได้\r\nconst AvailableOfficerCard = ({ \r\n  officer, \r\n  selectedUnit, \r\n  isMultipleMode, \r\n  isSelected, \r\n  onToggleSelect, \r\n  onAddSingle \r\n}) => {\r\n  const handleAddSingle = async () => {\r\n    const defaultRole = selectedUnit.isDirector ? 'director' : 'member';\r\n    const defaultSeniorityOrder = 1;\r\n\r\n    try {\r\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          position_number: officer.position_number,\r\n          unit_code: selectedUnit.unit_code,\r\n          unit_name: selectedUnit.unit_name,\r\n          role: defaultRole,\r\n          seniority_order: defaultSeniorityOrder\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        alert('เพิ่มบุคลากรสำเร็จ');\r\n        onAddSingle();\r\n      } else {\r\n        alert(data.message || data.errors?.join(', ') || 'เกิดข้อผิดพลาดในการเพิ่มบุคลากร');\r\n      }\r\n    } catch (error) {\r\n      alert('เกิดข้อผิดพลาดในการเชื่อมต่อ API');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all ${\r\n        isSelected \r\n          ? 'bg-indigo-50 border-indigo-300' \r\n          : 'bg-white border-slate-200 hover:bg-slate-50'\r\n      }`}\r\n      onClick={() => isMultipleMode ? onToggleSelect(officer.position_number) : handleAddSingle()}\r\n    >\r\n      <div className=\"flex items-center space-x-3\">\r\n        <div className=\"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center\">\r\n          <User className=\"w-4 h-4 text-slate-600\" />\r\n        </div>\r\n        <div>\r\n          <div className=\"font-medium text-slate-800\">\r\n            {officer.prefix} {officer.firstname} {officer.lastname}\r\n          </div>\r\n          <div className=\"text-sm text-slate-500\">\r\n            เลขตำแหน่ง: {officer.position_number}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {isMultipleMode ? (\r\n        <div className={`w-5 h-5 rounded border-2 flex items-center justify-center ${\r\n          isSelected \r\n            ? 'bg-indigo-600 border-indigo-600' \r\n            : 'border-slate-300'\r\n        }`}>\r\n          {isSelected && <div className=\"w-2 h-2 bg-white rounded-full\" />}\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex items-center text-indigo-600\">\r\n          <Plus className=\"w-4 h-4\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AvailableOfficerCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}