{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo}from'react';import{Building,Crown,ChevronRight}from'lucide-react';// Component สำหรับเลือกส่วนงาน (เหมือนเลือกตัวละครในเกม)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UnitSelector=_ref=>{let{units,unitStructures,onSelectUnit,loading}=_ref;// สร้างข้อมูลส่วนงานพร้อมสถิติ\nconst unitStats=useMemo(()=>{const stats={};// เพิ่มส่วนงานผู้อำนวยการ\nconst directorCount=unitStructures.filter(s=>s.role==='director').length;stats['CMD']={unit_code:'CMD',unit_name:'ผู้อำนวยการศูนย์รักษาความปลอดภัย',total:directorCount,director:directorCount,supervisor:0,member:0,isDirector:true};// สำหรับส่วนงานอื่นๆ\nunits.forEach(unit=>{const members=unitStructures.filter(s=>s.unit_code===unit.unit_code);stats[unit.unit_code]=_objectSpread(_objectSpread({},unit),{},{total:members.length,director:0,supervisor:members.filter(s=>s.role==='supervisor').length,member:members.filter(s=>s.role==='member').length,isDirector:false});});return stats;},[units,unitStructures]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-500\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-slate-50 rounded-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-slate-800 mb-2\",children:\"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E07\\u0E32\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500\",children:\"\\u0E04\\u0E25\\u0E34\\u0E01\\u0E17\\u0E35\\u0E48\\u0E01\\u0E32\\u0E23\\u0E4C\\u0E14\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E07\\u0E32\\u0E19\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E01\\u0E32\\u0E23\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:Object.values(unitStats).map(unit=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelectUnit(unit),className:\"relative bg-white rounded-xl border-2 p-6 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg group \".concat(unit.isDirector?'border-purple-200 hover:border-purple-400 bg-gradient-to-br from-purple-50 to-purple-100':'border-indigo-200 hover:border-indigo-400 bg-gradient-to-br from-indigo-50 to-blue-100'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center \".concat(unit.isDirector?'bg-purple-500':'bg-indigo-500'),children:unit.isDirector?/*#__PURE__*/_jsx(Crown,{className:\"w-8 h-8 text-white\"}):/*#__PURE__*/_jsx(Building,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-slate-800 text-center mb-2 line-clamp-2\",children:unit.unit_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4 px-3 py-1 rounded-full text-sm font-medium \".concat(unit.isDirector?'bg-purple-200 text-purple-700':'bg-indigo-200 text-indigo-700'),children:unit.unit_code}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-600\",children:\"\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-slate-800\",children:[unit.total,\" \\u0E04\\u0E19\"]})]}),unit.isDirector?/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-purple-600\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E2D\\u0E33\\u0E19\\u0E27\\u0E22\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-purple-700\",children:[unit.director,\" \\u0E04\\u0E19\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-600\",children:\"\\u0E2B\\u0E31\\u0E27\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E2A\\u0E48\\u0E27\\u0E19\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-blue-700\",children:[unit.supervisor,\" \\u0E04\\u0E19\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-green-600\",children:\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-green-700\",children:[unit.member,\" \\u0E04\\u0E19\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 rounded-full flex items-center justify-center \".concat(unit.isDirector?'bg-purple-500':'bg-indigo-500'),children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 text-white\"})})})]},unit.unit_code))})]});};export default UnitSelector;","map":{"version":3,"names":["React","useMemo","Building","Crown","ChevronRight","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UnitSelector","_ref","units","unitStructures","onSelectUnit","loading","unitStats","stats","directorCount","filter","s","role","length","unit_code","unit_name","total","director","supervisor","member","isDirector","forEach","unit","members","_objectSpread","className","children","Object","values","map","onClick","concat"],"sources":["C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/src/components/UnitStructure/UnitSelector.js"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Building, Crown, ChevronRight } from 'lucide-react';\r\n\r\n// Component สำหรับเลือกส่วนงาน (เหมือนเลือกตัวละครในเกม)\r\nconst UnitSelector = ({ units, unitStructures, onSelectUnit, loading }) => {\r\n  // สร้างข้อมูลส่วนงานพร้อมสถิติ\r\n  const unitStats = useMemo(() => {\r\n    const stats = {};\r\n    \r\n    // เพิ่มส่วนงานผู้อำนวยการ\r\n    const directorCount = unitStructures.filter(s => s.role === 'director').length;\r\n    stats['CMD'] = {\r\n      unit_code: 'CMD',\r\n      unit_name: 'ผู้อำนวยการศูนย์รักษาความปลอดภัย',\r\n      total: directorCount,\r\n      director: directorCount,\r\n      supervisor: 0,\r\n      member: 0,\r\n      isDirector: true\r\n    };\r\n\r\n    // สำหรับส่วนงานอื่นๆ\r\n    units.forEach(unit => {\r\n      const members = unitStructures.filter(s => s.unit_code === unit.unit_code);\r\n      stats[unit.unit_code] = {\r\n        ...unit,\r\n        total: members.length,\r\n        director: 0,\r\n        supervisor: members.filter(s => s.role === 'supervisor').length,\r\n        member: members.filter(s => s.role === 'member').length,\r\n        isDirector: false\r\n      };\r\n    });\r\n\r\n    return stats;\r\n  }, [units, unitStructures]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"text-slate-500\">กำลังโหลดข้อมูล...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 bg-slate-50 rounded-2xl\">\r\n      <div className=\"text-center mb-8\">\r\n        <h2 className=\"text-3xl font-bold text-slate-800 mb-2\">เลือกส่วนงานที่ต้องการจัดการ</h2>\r\n        <p className=\"text-slate-500\">คลิกที่การ์ดส่วนงานเพื่อเข้าสู่การจัดการบุคลากร</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n        {Object.values(unitStats).map((unit) => (\r\n          <div\r\n            key={unit.unit_code}\r\n            onClick={() => onSelectUnit(unit)}\r\n            className={`relative bg-white rounded-xl border-2 p-6 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg group ${\r\n              unit.isDirector \r\n                ? 'border-purple-200 hover:border-purple-400 bg-gradient-to-br from-purple-50 to-purple-100' \r\n                : 'border-indigo-200 hover:border-indigo-400 bg-gradient-to-br from-indigo-50 to-blue-100'\r\n            }`}\r\n          >\r\n            {/* Icon */}\r\n            <div className={`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${\r\n              unit.isDirector ? 'bg-purple-500' : 'bg-indigo-500'\r\n            }`}>\r\n              {unit.isDirector ? (\r\n                <Crown className=\"w-8 h-8 text-white\" />\r\n              ) : (\r\n                <Building className=\"w-8 h-8 text-white\" />\r\n              )}\r\n            </div>\r\n\r\n            {/* Unit Name */}\r\n            <h3 className=\"text-lg font-bold text-slate-800 text-center mb-2 line-clamp-2\">\r\n              {unit.unit_name}\r\n            </h3>\r\n\r\n            {/* Unit Code */}\r\n            <div className={`text-center mb-4 px-3 py-1 rounded-full text-sm font-medium ${\r\n              unit.isDirector \r\n                ? 'bg-purple-200 text-purple-700' \r\n                : 'bg-indigo-200 text-indigo-700'\r\n            }`}>\r\n              {unit.unit_code}\r\n            </div>\r\n\r\n            {/* Statistics */}\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm text-slate-600\">บุคลากรทั้งหมด</span>\r\n                <span className=\"font-bold text-slate-800\">{unit.total} คน</span>\r\n              </div>\r\n              \r\n              {unit.isDirector ? (\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm text-purple-600\">ผู้อำนวยการ</span>\r\n                  <span className=\"font-bold text-purple-700\">{unit.director} คน</span>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-blue-600\">หัวหน้าส่วน</span>\r\n                    <span className=\"font-bold text-blue-700\">{unit.supervisor} คน</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-green-600\">เจ้าหน้าที่</span>\r\n                    <span className=\"font-bold text-green-700\">{unit.member} คน</span>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Hover Effects */}\r\n            <div className=\"absolute inset-0 bg-black/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\" />\r\n            \r\n            {/* Arrow Icon */}\r\n            <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n              <div className={`w-6 h-6 rounded-full flex items-center justify-center ${\r\n                unit.isDirector ? 'bg-purple-500' : 'bg-indigo-500'\r\n              }`}>\r\n                <ChevronRight className=\"w-4 h-4 text-white\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UnitSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}