{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apiwa\\\\Documents\\\\GitHub\\\\C\\\\src\\\\components\\\\UnitStructure\\\\EditMemberModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { X, Save, User, Crown, Star } from 'lucide-react';\nimport { CONFIG } from '../../config';\n\n// Modal สำหรับแก้ไขข้อมูลสมาชิกในโครงสร้าง\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EditMemberModal = ({\n  member,\n  units,\n  officers,\n  unitStructures,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    position_number: '',\n    unit_code: '',\n    unit_name: '',\n    role: 'member',\n    seniority_order: 1\n  });\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (member) {\n      setFormData({\n        position_number: member.position_number || '',\n        unit_code: member.unit_code || '',\n        unit_name: member.unit_name || '',\n        role: member.role || 'member',\n        seniority_order: member.seniority_order || 1\n      });\n    }\n  }, [member]);\n\n  // Get available officers (ที่ยังไม่ได้อยู่ในโครงสร้าง หรือเป็นคนเดียวกับที่กำลังแก้ไข)\n  const availableOfficers = useMemo(() => {\n    const usedPositions = unitStructures.filter(s => s.id !== (member === null || member === void 0 ? void 0 : member.id)) // ยกเว้นตัวเองที่กำลังแก้ไข\n    .map(s => s.position_number);\n    return officers.filter(officer => !usedPositions.includes(officer.position_number));\n  }, [officers, unitStructures, member]);\n\n  // Get unit info for unit_name auto-fill\n  const selectedUnitInfo = useMemo(() => {\n    if (formData.unit_code === 'CMD') {\n      return {\n        unit_name: 'ผู้อำนวยการศูนย์รักษาความปลอดภัย'\n      };\n    }\n    return units.find(u => u.unit_code === formData.unit_code);\n  }, [formData.unit_code, units]);\n\n  // Auto-fill unit_name when unit_code changes\n  useEffect(() => {\n    if (selectedUnitInfo) {\n      setFormData(prev => ({\n        ...prev,\n        unit_name: selectedUnitInfo.unit_name\n      }));\n    }\n  }, [selectedUnitInfo]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}/${member.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert('แก้ไขข้อมูลสำเร็จ');\n        onSave();\n        onClose();\n      } else {\n        var _data$errors;\n        console.error('API Error:', data);\n        alert(data.message || ((_data$errors = data.errors) === null || _data$errors === void 0 ? void 0 : _data$errors.join(', ')) || 'เกิดข้อผิดพลาดในการแก้ไขข้อมูล');\n      }\n    } catch (error) {\n      console.error('Error updating member:', error);\n      alert('เกิดข้อผิดพลาดในการเชื่อมต่อ API');\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!member) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl max-w-md w-full p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold flex items-center\",\n          children: [formData.role === 'director' ? /*#__PURE__*/_jsxDEV(Crown, {\n            className: \"w-5 h-5 mr-2 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 45\n          }, this) : formData.role === 'supervisor' ? /*#__PURE__*/_jsxDEV(Star, {\n            className: \"w-5 h-5 mr-2 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 47\n          }, this) : /*#__PURE__*/_jsxDEV(User, {\n            className: \"w-5 h-5 mr-2 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 14\n          }, this), \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-1 text-slate-400 hover:text-slate-600 rounded\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.position_number,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              position_number: e.target.value\n            })),\n            className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), availableOfficers.map(officer => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: officer.position_number,\n              children: [officer.prefix, \" \", officer.firstname, \" \", officer.lastname, \" (\", officer.position_number, \")\"]\n            }, officer.position_number, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E07\\u0E32\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.unit_code,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              unit_code: e.target.value\n            })),\n            className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E07\\u0E32\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"CMD\",\n              children: \"\\u0E1C\\u0E39\\u0E49\\u0E2D\\u0E33\\u0E19\\u0E27\\u0E22\\u0E01\\u0E32\\u0E23\\u0E28\\u0E39\\u0E19\\u0E22\\u0E4C\\u0E23\\u0E31\\u0E01\\u0E29\\u0E32\\u0E04\\u0E27\\u0E32\\u0E21\\u0E1B\\u0E25\\u0E2D\\u0E14\\u0E20\\u0E31\\u0E22\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), units.map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: unit.unit_code,\n              children: unit.unit_name\n            }, unit.unit_code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"\\u0E1A\\u0E17\\u0E1A\\u0E32\\u0E17\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.role,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              role: e.target.value\n            })),\n            className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"member\",\n              children: \"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"supervisor\",\n              children: \"\\u0E2B\\u0E31\\u0E27\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E2A\\u0E48\\u0E27\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"director\",\n              children: \"\\u0E1C\\u0E39\\u0E49\\u0E2D\\u0E33\\u0E19\\u0E27\\u0E22\\u0E01\\u0E32\\u0E23\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E2D\\u0E32\\u0E27\\u0E38\\u0E42\\u0E2A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            value: formData.seniority_order,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              seniority_order: parseInt(e.target.value)\n            })),\n            className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-slate-500 mt-1\",\n            children: formData.role === 'supervisor' ? 'หัวหน้าส่วนควรเป็น 1' : 'เลขที่มากกว่าจะมีอาวุโสน้อยกว่า'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"px-4 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200\",\n            disabled: loading,\n            children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 flex items-center\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(EditMemberModal, \"ef9EIe8JRc4tpjviOC/nkUsjbac=\");\n_c = EditMemberModal;\nexport default EditMemberModal;\nvar _c;\n$RefreshReg$(_c, \"EditMemberModal\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","X","Save","User","Crown","Star","CONFIG","jsxDEV","_jsxDEV","Fragment","_Fragment","EditMemberModal","member","units","officers","unitStructures","onClose","onSave","_s","formData","setFormData","position_number","unit_code","unit_name","role","seniority_order","loading","setLoading","availableOfficers","usedPositions","filter","s","id","map","officer","includes","selectedUnitInfo","find","u","prev","handleSubmit","e","preventDefault","response","fetch","UNIT_STRUCTURE_API","method","headers","body","JSON","stringify","data","json","success","alert","_data$errors","console","error","message","errors","join","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","value","onChange","target","required","prefix","firstname","lastname","unit","type","min","parseInt","disabled","_c","$RefreshReg$"],"sources":["C:/Users/apiwa/Documents/GitHub/C/src/components/UnitStructure/EditMemberModal.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { X, Save, User, Crown, Star } from 'lucide-react';\r\nimport { CONFIG } from '../../config';\r\n\r\n// Modal สำหรับแก้ไขข้อมูลสมาชิกในโครงสร้าง\r\nconst EditMemberModal = ({ \r\n  member, \r\n  units, \r\n  officers, \r\n  unitStructures,\r\n  onClose, \r\n  onSave \r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    position_number: '',\r\n    unit_code: '',\r\n    unit_name: '',\r\n    role: 'member',\r\n    seniority_order: 1\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (member) {\r\n      setFormData({\r\n        position_number: member.position_number || '',\r\n        unit_code: member.unit_code || '',\r\n        unit_name: member.unit_name || '',\r\n        role: member.role || 'member',\r\n        seniority_order: member.seniority_order || 1\r\n      });\r\n    }\r\n  }, [member]);\r\n\r\n  // Get available officers (ที่ยังไม่ได้อยู่ในโครงสร้าง หรือเป็นคนเดียวกับที่กำลังแก้ไข)\r\n  const availableOfficers = useMemo(() => {\r\n    const usedPositions = unitStructures\r\n      .filter(s => s.id !== member?.id) // ยกเว้นตัวเองที่กำลังแก้ไข\r\n      .map(s => s.position_number);\r\n    \r\n    return officers.filter(officer => \r\n      !usedPositions.includes(officer.position_number)\r\n    );\r\n  }, [officers, unitStructures, member]);\r\n\r\n  // Get unit info for unit_name auto-fill\r\n  const selectedUnitInfo = useMemo(() => {\r\n    if (formData.unit_code === 'CMD') {\r\n      return { unit_name: 'ผู้อำนวยการศูนย์รักษาความปลอดภัย' };\r\n    }\r\n    return units.find(u => u.unit_code === formData.unit_code);\r\n  }, [formData.unit_code, units]);\r\n\r\n  // Auto-fill unit_name when unit_code changes\r\n  useEffect(() => {\r\n    if (selectedUnitInfo) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        unit_name: selectedUnitInfo.unit_name\r\n      }));\r\n    }\r\n  }, [selectedUnitInfo]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}/${member.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        alert('แก้ไขข้อมูลสำเร็จ');\r\n        onSave();\r\n        onClose();\r\n      } else {\r\n        console.error('API Error:', data);\r\n        alert(data.message || data.errors?.join(', ') || 'เกิดข้อผิดพลาดในการแก้ไขข้อมูล');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating member:', error);\r\n      alert('เกิดข้อผิดพลาดในการเชื่อมต่อ API');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!member) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-xl max-w-md w-full p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold flex items-center\">\r\n            {formData.role === 'director' ? <Crown className=\"w-5 h-5 mr-2 text-purple-600\" /> :\r\n             formData.role === 'supervisor' ? <Star className=\"w-5 h-5 mr-2 text-blue-600\" /> :\r\n             <User className=\"w-5 h-5 mr-2 text-green-600\" />}\r\n            แก้ไขข้อมูลสมาชิก\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-1 text-slate-400 hover:text-slate-600 rounded\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* เลือกเจ้าหน้าที่ */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">เจ้าหน้าที่</label>\r\n            <select\r\n              value={formData.position_number}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, position_number: e.target.value }))}\r\n              className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n              required\r\n            >\r\n              <option value=\"\">เลือกเจ้าหน้าที่</option>\r\n              {availableOfficers.map(officer => (\r\n                <option key={officer.position_number} value={officer.position_number}>\r\n                  {officer.prefix} {officer.firstname} {officer.lastname} ({officer.position_number})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* เลือกส่วนงาน */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">ส่วนงาน</label>\r\n            <select\r\n              value={formData.unit_code}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, unit_code: e.target.value }))}\r\n              className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n              required\r\n            >\r\n              <option value=\"\">เลือกส่วนงาน</option>\r\n              <option value=\"CMD\">ผู้อำนวยการศูนย์รักษาความปลอดภัย</option>\r\n              {units.map(unit => (\r\n                <option key={unit.unit_code} value={unit.unit_code}>\r\n                  {unit.unit_name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* บทบาท */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">บทบาท</label>\r\n            <select\r\n              value={formData.role}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, role: e.target.value }))}\r\n              className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n              required\r\n            >\r\n              <option value=\"member\">เจ้าหน้าที่</option>\r\n              <option value=\"supervisor\">หัวหน้าส่วน</option>\r\n              <option value=\"director\">ผู้อำนวยการ</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* ลำดับอาวุโส */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">ลำดับอาวุโส</label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"1\"\r\n              value={formData.seniority_order}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, seniority_order: parseInt(e.target.value) }))}\r\n              className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n              required\r\n            />\r\n            <p className=\"text-xs text-slate-500 mt-1\">\r\n              {formData.role === 'supervisor' ? 'หัวหน้าส่วนควรเป็น 1' : 'เลขที่มากกว่าจะมีอาวุโสน้อยกว่า'}\r\n            </p>\r\n          </div>\r\n\r\n          {/* ปุ่มดำเนินการ */}\r\n          <div className=\"flex justify-end space-x-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200\"\r\n              disabled={loading}\r\n            >\r\n              ยกเลิก\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 flex items-center\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                  กำลังบันทึก...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save className=\"w-4 h-4 mr-2\" />\r\n                  บันทึก\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditMemberModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}