{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useMemo}from\"react\";import{ShieldCheck,History,UserCheck,UserX,Search,Download,Check,X,RefreshCw,Shield,Users,Edit2,Trash2,Save,Crown,UserCog,Users2,KeyRound}from\"lucide-react\";import{CONFIG}from'../config';// --- พจนานุกรมสำหรับแปล Action เป็นภาษาไทย ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ACTION_TRANSLATIONS={'login_success':'✅ เข้าสู่ระบบสำเร็จ','login_fail':'❌ พยายามเข้าสู่ระบบ (ล้มเหลว)','register_success':'📝 สมัครสมาชิกสำเร็จ','register_fail':'⚠️ สมัครสมาชิก (ล้มเหลว)','view_all_officers':'👥 ดูข้อมูลบุคลากรทั้งหมด','search_by_phone':'📞 ค้นหาด้วยเบอร์โทร','search_personnel':'🔍 ค้นหาบุคลากร','export_personnel_csv':'📄 ส่งออกข้อมูลบุคลากร (CSV)','view_personnel_detail':'👁️ ดูรายละเอียดบุคลากร','link_line_success':'🔗 เชื่อมต่อ LINE สำเร็จ','link_line_fail':'⚠️ เชื่อมต่อ LINE (ล้มเหลว)','system_error':'🔥 เกิดข้อผิดพลาดในระบบ','approve_user':'👍 อนุมัติผู้ใช้','reject_user':'👎 ปฏิเสธผู้ใช้'};// --- Component: User Approval Section ---\nconst UserApproval=_ref=>{let{user}=_ref;const[pendingUsers,setPendingUsers]=useState([]);const[loading,setLoading]=useState(true);const fetchPendingUsers=useCallback(async()=>{setLoading(true);try{const response=await fetch(\"\".concat(CONFIG.OFFICERS_API,\"/pending\"));const data=await response.json();if(data.success){// ป้องกันการแสดงผลผิดพลาดโดยการกรองข้อมูลที่ status เป็น pending เท่านั้น\nsetPendingUsers(Array.isArray(data.data)?data.data.filter(u=>u.status==='pending'):[]);}else{setPendingUsers([]);}}catch(error){console.error(\"Error fetching pending users:\",error);setPendingUsers([]);}finally{setLoading(false);}},[]);useEffect(()=>{fetchPendingUsers();},[fetchPendingUsers]);const handleUserStatus=async(userId,newStatus)=>{try{const response=await fetch(\"\".concat(CONFIG.OFFICERS_API,\"/\").concat(userId,\"/status\"),{method:'PATCH',// หรือ 'PUT' ขึ้นอยู่กับการออกแบบ API\nheaders:{'Content-Type':'application/json'},body:JSON.stringify({status:newStatus,admin_user_id:user.id})});const data=await response.json();if(data.success){fetchPendingUsers();}else{alert(\"Error: \".concat(data.message));}}catch(error){console.error(\"Error updating user status:\",error);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-slate-800\",children:[\"\\u0E04\\u0E33\\u0E02\\u0E2D\\u0E23\\u0E2D\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23 (\",pendingUsers.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchPendingUsers,className:\"p-2 text-slate-500 hover:bg-slate-100 rounded-lg\",title:\"\\u0E23\\u0E35\\u0E40\\u0E1F\\u0E23\\u0E0A\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-5 h-5\"})})]}),pendingUsers.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 border-2 border-dashed border-slate-200 rounded-xl\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500\",children:\"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E33\\u0E02\\u0E2D\\u0E17\\u0E35\\u0E48\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\\u0E43\\u0E19\\u0E02\\u0E13\\u0E30\\u0E19\\u0E35\\u0E49\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-slate-200 rounded-xl\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-slate-200\",children:pendingUsers.map(pUser=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-slate-900\",children:[pUser.prefix,\" \",pUser.firstname,\" \",pUser.lastname]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-500\",children:[pUser.position,\" | \",pUser.phone]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUserStatus(pUser.id,'approved'),className:\"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200\",title:\"\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\",children:/*#__PURE__*/_jsx(Check,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUserStatus(pUser.id,'rejected'),className:\"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200\",title:\"\\u0E1B\\u0E0F\\u0E34\\u0E40\\u0E2A\\u0E18\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]})]},pUser.id))})})]});};// --- Component: Personnel Management Section ---\nconst PersonnelManagement=_ref2=>{let{user}=_ref2;const[allOfficers,setAllOfficers]=useState([]);// Holds all users from API\nconst[officers,setOfficers]=useState([]);// Holds filtered users for display\nconst[loading,setLoading]=useState(true);const[editingOfficer,setEditingOfficer]=useState(null);const[filters,setFilters]=useState({search:'',role:'',status:'',department:''});const fetchAllOfficers=useCallback(async()=>{setLoading(true);try{const response=await fetch(CONFIG.OFFICERS_API);const data=await response.json();let officersData=[];if(Array.isArray(data)){officersData=data;}else if(data&&data.success&&Array.isArray(data.data)){officersData=data.data;}else{console.error('Invalid data format:',data);}setAllOfficers(officersData);}catch(error){console.error(\"Error fetching officers:\",error);setAllOfficers([]);// เคลียร์ข้อมูลทั้งหมดเมื่อเกิดข้อผิดพลาด\nsetOfficers([]);// เคลียร์ข้อมูลที่แสดงผลเมื่อเกิดข้อผิดพลาด\n}finally{setLoading(false);}},[]);// แก้ไข: ลบ [filters] ออก เพื่อให้ฟังก์ชันนี้ถูกสร้างขึ้นครั้งเดียวและไม่ re-fetch ข้อมูลเมื่อ filter เปลี่ยน\nuseEffect(()=>{fetchAllOfficers();},[fetchAllOfficers]);// Apply filters whenever the master list or filter values change\nuseEffect(()=>{let filtered=allOfficers;if(filters.search){const searchTerm=filters.search.toLowerCase();filtered=filtered.filter(officer=>\"\".concat(officer.prefix||'',\" \").concat(officer.firstname||'',\" \").concat(officer.lastname||'').toLowerCase().includes(searchTerm)||officer.phone&&officer.phone.includes(searchTerm));}if(filters.role){filtered=filtered.filter(officer=>officer.role===filters.role);}if(filters.status){filtered=filtered.filter(officer=>officer.status===filters.status);}if(filters.department){const departmentTerm=filters.department.toLowerCase();filtered=filtered.filter(officer=>officer.department&&officer.department.toLowerCase().includes(departmentTerm)||officer.affiliation&&officer.affiliation.toLowerCase().includes(departmentTerm));}setOfficers(filtered);},[filters,allOfficers]);const handleUpdateOfficer=async(officerId,updates)=>{try{const response=await fetch(\"\".concat(CONFIG.OFFICERS_API,\"/\").concat(officerId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({updates:updates,admin_user_id:user.id})});if(!response.ok){const errorText=await response.text();throw new Error(\"Server responded with \".concat(response.status,\": \").concat(errorText.substring(0,500)));}const contentType=response.headers.get('content-type');if(!contentType||!contentType.includes('application/json')){const responseText=await response.text();console.error(\"Received non-JSON response:\",responseText);throw new Error(\"Expected JSON response, but received \".concat(contentType,\". See console for details.\"));}const data=await response.json();if(data.success){fetchAllOfficers();setEditingOfficer(null);alert('อัปเดตข้อมูลสำเร็จ');}else{throw new Error(data.message||'ไม่สามารถอัปเดตได้');}}catch(error){console.error(\"Error updating officer:\",error);alert(\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\\u0E43\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E31\\u0E1B\\u0E40\\u0E14\\u0E15\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25: \".concat(error.message));}};const handleDeleteOfficer=async officer=>{if(!window.confirm(\"\\u0E04\\u0E38\\u0E13\\u0E41\\u0E19\\u0E48\\u0E43\\u0E08\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48\\u0E17\\u0E35\\u0E48\\u0E08\\u0E30\\u0E25\\u0E1A \".concat(officer.firstname,\" \").concat(officer.lastname,\"?\")))return;try{const response=await fetch(\"\".concat(CONFIG.OFFICERS_API,\"/\").concat(officer.id),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({admin_user_id:user.id})});const data=await response.json();if(data.success){fetchAllOfficers();alert('ลบข้อมูลสำเร็จ');}else{throw new Error(data.message||'ไม่สามารถลบข้อมูลได้');}}catch(error){console.error(\"Error deleting officer:\",error);alert(\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\\u0E43\\u0E19\\u0E01\\u0E32\\u0E23\\u0E25\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25: \".concat(error.message));}};const getRoleIcon=role=>{switch(role){case'admin':return/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4 text-red-600\"});case'supervisor':return/*#__PURE__*/_jsx(Crown,{className:\"w-4 h-4 text-yellow-600\"});default:return/*#__PURE__*/_jsx(Users,{className:\"w-4 h-4 text-blue-600\"});}};const getStatusBadge=status=>{const styles={active:'bg-green-100 text-green-800',pending:'bg-yellow-100 text-yellow-800',inactive:'bg-gray-100 text-gray-800',rejected:'bg-red-100 text-red-800'};const labels={active:'ใช้งาน',pending:'รอการอนุมัติ',inactive:'ไม่ใช้งาน',rejected:'ปฏิเสธ'};return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(styles[status]||styles.inactive),children:labels[status]||status||'ไม่ระบุ'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-slate-800\",children:[\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23 (\",officers.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchAllOfficers,className:\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E23\\u0E35\\u0E40\\u0E1F\\u0E23\\u0E0A\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-50 p-4 rounded-xl border border-slate-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E0A\\u0E37\\u0E48\\u0E2D, \\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23...\",value:filters.search,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{search:e.target.value})),className:\"pl-10 w-full p-2 border border-slate-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.role,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{role:e.target.value})),className:\"w-full p-2 border border-slate-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0E17\\u0E38\\u0E01\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E14\\u0E39\\u0E41\\u0E25\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"supervisor\",children:\"\\u0E2B\\u0E31\\u0E27\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\"}),/*#__PURE__*/_jsx(\"option\",{value:\"member\",children:\"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"w-full p-2 border border-slate-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0E17\\u0E38\\u0E01\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"\\u0E23\\u0E2D\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0E2A\\u0E31\\u0E07\\u0E01\\u0E31\\u0E14/\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19...\",value:filters.department,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{department:e.target.value})),className:\"w-full p-2 border border-slate-300 rounded-lg\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-slate-200 rounded-xl overflow-hidden\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-slate-500\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-slate-50 text-slate-600\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07/\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4\",children:\"\\u0E01\\u0E32\\u0E23\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:officers.map((officer,index)=>{var _officer$firstname,_officer$lastname;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-slate-200 hover:bg-slate-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-slate-600\",children:[((_officer$firstname=officer.firstname)===null||_officer$firstname===void 0?void 0:_officer$firstname.charAt(0))||'N',((_officer$lastname=officer.lastname)===null||_officer$lastname===void 0?void 0:_officer$lastname.charAt(0))||'A']})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-slate-900\",children:[officer.prefix,\" \",officer.firstname,\" \",officer.lastname]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500\",children:officer.generation||'ไม่ระบุ'})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-800\",children:officer.position}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500\",children:officer.department||officer.affiliation})]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 font-mono text-slate-600\",children:officer.phone}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[getRoleIcon(officer.role),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:officer.role||'member'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:getStatusBadge(officer.status||'active')}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingOfficer(officer),className:\"p-1.5 text-blue-600 hover:bg-blue-100 rounded-lg\",title:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteOfficer(officer),className:\"p-1.5 text-red-600 hover:bg-red-100 rounded-lg\",title:\"\\u0E25\\u0E1A\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})})]},officer.id||officer.phone||index);})})]}),officers.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center text-slate-500\",children:\"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"})]})}),editingOfficer&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 w-full max-w-md mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingOfficer(null),className:\"text-slate-400 hover:text-slate-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(EditOfficerForm,{officer:editingOfficer,onSave:updates=>handleUpdateOfficer(editingOfficer.id||editingOfficer.phone,updates),onCancel:()=>setEditingOfficer(null)})]})})]});};// --- Component: Edit Officer Form ---\nconst EditOfficerForm=_ref3=>{let{officer,onSave,onCancel}=_ref3;const[formData,setFormData]=useState({prefix:officer.prefix||'',firstname:officer.firstname||'',lastname:officer.lastname||'',position:officer.position||'',department:officer.department||officer.affiliation||'',role:officer.role||'member',status:officer.status||'active'});const availableRoles=['member','scheduler','supervisor','admin'];const availableStatuses=['active','pending','inactive','rejected','deleted'];const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E04\\u0E33\\u0E19\\u0E33\\u0E2B\\u0E19\\u0E49\\u0E32\"}),/*#__PURE__*/_jsx(\"input\",{name:\"prefix\",type:\"text\",value:formData.prefix,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\"}),/*#__PURE__*/_jsx(\"input\",{name:\"firstname\",type:\"text\",value:formData.firstname,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsx(\"input\",{name:\"lastname\",type:\"text\",value:formData.lastname,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07\"}),/*#__PURE__*/_jsx(\"input\",{name:\"position\",type:\"text\",value:formData.position,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E2A\\u0E31\\u0E07\\u0E01\\u0E31\\u0E14/\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"input\",{name:\"department\",type:\"text\",value:formData.department,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C (Role)\"}),/*#__PURE__*/_jsx(\"select\",{name:\"role\",value:formData.role,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\",children:availableRoles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role,children:role},role))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-700\",children:\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"}),/*#__PURE__*/_jsx(\"select\",{name:\"status\",value:formData.status,onChange:handleChange,className:\"mt-1 w-full p-2 border border-slate-300 rounded-lg\",children:availableStatuses.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status,children:status},status))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2 pt-4 border-t border-slate-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"})]})]})]});};// --- Component: Activity Logs Section ---\nconst ActivityLogs=()=>{const[logs,setLogs]=useState([]);const[loading,setLoading]=useState(true);const[filters,setFilters]=useState({search:\"\",startDate:\"\",endDate:\"\"});const fetchLogs=useCallback(async()=>{setLoading(true);try{const params=new URLSearchParams({search:filters.search,startDate:filters.startDate,endDate:filters.endDate});const response=await fetch(\"\".concat(CONFIG.LOGS_API,\"?\").concat(params.toString()));const result=await response.json();if(result.success){setLogs(result.data);}else{console.error(\"API Error:\",result.message);setLogs([]);}}catch(error){console.error(\"Error fetching logs:\",error);}finally{setLoading(false);}},[filters]);useEffect(()=>{fetchLogs();},[fetchLogs]);const exportToCSV=useCallback(()=>{if(logs.length===0)return alert('ไม่มีข้อมูลสำหรับ Export');const headers=['เวลา','ผู้ใช้งาน','กิจกรรม','รายละเอียด','IP Address'];const rows=logs.map(log=>[log.timestamp,log.full_name||log.username||'N/A',ACTION_TRANSLATIONS[log.action]||log.action,log.details||'',log.ip_address||'']);const csvContent=[headers,...rows].map(row=>row.map(field=>\"\\\"\".concat(String(field).replace(/\"/g,'\"\"'),\"\\\"\")).join(',')).join('\\\\n');const blob=new Blob(['\\\\uFEFF'+csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download=\"activity_logs_\".concat(new Date().toLocaleDateString('th-TH').replace(/\\//g,'-'),\".csv\");link.click();URL.revokeObjectURL(link.href);},[logs]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-slate-800\",children:\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E23\\u0E30\\u0E1A\\u0E1A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-50 p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32 Username, \\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21...\",value:filters.search,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{search:e.target.value})),className:\"w-full p-2 border border-slate-300 rounded-lg\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.startDate,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{startDate:e.target.value})),className:\"w-full p-2 border border-slate-300 rounded-lg\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.endDate,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{endDate:e.target.value})),className:\"w-full p-2 border border-slate-300 rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:fetchLogs,className:\"flex-1 flex items-center justify-center p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 mr-2\"}),\" \\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:exportToCSV,className:\"flex items-center justify-center p-2 bg-green-600 text-white rounded-lg hover:bg-green-700\",children:/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-slate-200 rounded-xl overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-slate-50 text-slate-600\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"\\u0E40\\u0E27\\u0E25\\u0E32\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"IP Address\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-center p-4\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"})}):logs.map(log=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-slate-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3 whitespace-nowrap\",children:new Date(log.timestamp).toLocaleString('th-TH')}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 font-medium text-slate-800\",children:log.full_name||log.username||/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"N/A\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:ACTION_TRANSLATIONS[log.action]||log.action}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-slate-500 max-w-xs truncate\",title:log.details,children:log.details}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3 text-slate-500\",children:log.ip_address})]},log.id))})]})})})]});};// --- Component: Database Manager (Admin) ---\nconst DatabaseManager=_ref4=>{var _tables$find,_tables$find2;let{user}=_ref4;const[tables,setTables]=useState([]);const[loading,setLoading]=useState(false);const[selectedTable,setSelectedTable]=useState(null);const[newTableName,setNewTableName]=useState('');const[newColumnName,setNewColumnName]=useState('');const[newColumnType,setNewColumnType]=useState('text');const apiBase=CONFIG.API_BASE_URL||'';const fetchTables=useCallback(async()=>{setLoading(true);try{const res=await fetch(\"\".concat(apiBase,\"/admin/db/tables\"));const data=await res.json();if(data&&Array.isArray(data.tables))setTables(data.tables);else setTables([]);}catch(err){console.error('Error fetching tables',err);setTables([]);}finally{setLoading(false);}},[apiBase]);useEffect(()=>{fetchTables();},[fetchTables]);const handleCreateTable=async()=>{if(!newTableName.trim())return alert('กรุณาระบุชื่อฐานข้อมูล (table name)');try{const res=await fetch(\"\".concat(apiBase,\"/admin/db/tables\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({table:newTableName})});const d=await res.json();if(d.success){setNewTableName('');fetchTables();}else alert(d.message||'ไม่สามารถสร้างตารางได้');}catch(err){console.error(err);alert('เกิดข้อผิดพลาด');}};const handleDropTable=async table=>{if(!window.confirm(\"\\u0E25\\u0E1A\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07 \".concat(table,\" ?\")))return;try{const res=await fetch(\"\".concat(apiBase,\"/admin/db/tables/\").concat(encodeURIComponent(table)),{method:'DELETE'});const d=await res.json();if(d.success)fetchTables();else alert(d.message||'ลบไม่สำเร็จ');}catch(err){console.error(err);alert('เกิดข้อผิดพลาด');}};const handleAddColumn=async table=>{if(!newColumnName.trim())return alert('กรุณาระบุชื่อคอลัมน์');try{const res=await fetch(\"\".concat(apiBase,\"/admin/db/tables/\").concat(encodeURIComponent(table),\"/columns\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({column:newColumnName,type:newColumnType})});const d=await res.json();if(d.success){setNewColumnName('');setNewColumnType('text');fetchTables();}else alert(d.message||'ไม่สามารถเพิ่มคอลัมน์ได้');}catch(err){console.error(err);alert('เกิดข้อผิดพลาด');}};const handleDropColumn=async(table,column)=>{if(!window.confirm(\"\\u0E25\\u0E1A\\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C \".concat(column,\" \\u0E08\\u0E32\\u0E01 \").concat(table,\" ?\")))return;try{const res=await fetch(\"\".concat(apiBase,\"/admin/db/tables/\").concat(encodeURIComponent(table),\"/columns/\").concat(encodeURIComponent(column)),{method:'DELETE'});const d=await res.json();if(d.success)fetchTables();else alert(d.message||'ลบคอลัมน์ไม่สำเร็จ');}catch(err){console.error(err);alert('เกิดข้อผิดพลาด');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E10\\u0E32\\u0E19\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:fetchTables,className:\"px-3 py-2 bg-slate-100 rounded\",children:\"\\u0E23\\u0E35\\u0E40\\u0E1F\\u0E23\\u0E0A\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-slate-200 rounded-xl p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-600\",children:\"\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[tables.length,\" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[tables.map(t=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-slate-50 rounded flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:t.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-slate-500\",children:[(t.columns||[]).length,\" \\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedTable(t.name),className:\"px-2 py-1 bg-white border rounded\",children:\"\\u0E14\\u0E39\\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDropTable(t.name),className:\"px-2 py-1 bg-red-100 text-red-700 rounded\",children:\"\\u0E25\\u0E1A\"})]})]},t.name)),tables.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-slate-500\",children:\"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\"})]})]}),selectedTable&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-slate-200 rounded-xl p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[\"\\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C: \",selectedTable]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedTable(null),className:\"text-slate-500\",children:\"\\u0E1B\\u0E34\\u0E14\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[(((_tables$find=tables.find(x=>x.name===selectedTable))===null||_tables$find===void 0?void 0:_tables$find.columns)||[]).map(c=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-slate-50 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:c.name}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-slate-500\",children:c.type})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDropColumn(selectedTable,c.name),className:\"text-red-600 text-sm\",children:\"\\u0E25\\u0E1A\"})]},c.name)),(((_tables$find2=tables.find(x=>x.name===selectedTable))===null||_tables$find2===void 0?void 0:_tables$find2.columns)||[]).length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-500\",children:\"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C\",value:newColumnName,onChange:e=>setNewColumnName(e.target.value),className:\"p-2 border rounded\"}),/*#__PURE__*/_jsxs(\"select\",{value:newColumnType,onChange:e=>setNewColumnType(e.target.value),className:\"p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"text\"}),/*#__PURE__*/_jsx(\"option\",{value:\"integer\",children:\"integer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"boolean\",children:\"boolean\"}),/*#__PURE__*/_jsx(\"option\",{value:\"timestamp\",children:\"timestamp\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddColumn(selectedTable),className:\"px-3 py-2 bg-indigo-600 text-white rounded\",children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E2D\\u0E25\\u0E31\\u0E21\\u0E19\\u0E4C\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-slate-200 rounded-xl p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-600 mb-2\",children:\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E43\\u0E2B\\u0E21\\u0E48\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07 (table_name)\",value:newTableName,onChange:e=>setNewTableName(e.target.value),className:\"w-full p-2 border rounded mb-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateTable,className:\"px-3 py-2 bg-indigo-600 text-white rounded\",children:\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewTableName(''),className:\"px-3 py-2 bg-slate-100 rounded\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})]})})]})]});};// --- Main Component: AdminPage ---\nexport default function AdminPage(_ref5){var _visibleTabs$;let{user}=_ref5;const allTabs=[{key:'approval',label:'คำขออนุมัติ',icon:UserCheck,component:/*#__PURE__*/_jsx(UserApproval,{user:user}),roles:['super_admin','admin']},{key:'personnel',label:'จัดการบุคลากร',icon:Users2,component:/*#__PURE__*/_jsx(PersonnelManagement,{user:user}),roles:['super_admin','admin']},{key:'logs',label:'บันทึกกิจกรรม',icon:History,component:/*#__PURE__*/_jsx(ActivityLogs,{}),roles:['super_admin','admin','supervisor']}];const visibleTabs=useMemo(()=>{if(!user||!user.role)return[];if(user.role==='super_admin'||user.role==='admin'){return allTabs;}return allTabs.filter(tab=>tab.roles.includes(user.role));},[user]);const[activeTab,setActiveTab]=useState(((_visibleTabs$=visibleTabs[0])===null||_visibleTabs$===void 0?void 0:_visibleTabs$.key)||'');const activeComponent=useMemo(()=>{const currentTab=visibleTabs.find(tab=>tab.key===activeTab);return currentTab?currentTab.component:/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-500\",children:\"\\u0E04\\u0E38\\u0E13\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C\\u0E40\\u0E02\\u0E49\\u0E32\\u0E16\\u0E36\\u0E07\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E19\\u0E35\\u0E49\"});},[activeTab,visibleTabs]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-slate-900 flex items-center\",children:[/*#__PURE__*/_jsx(ShieldCheck,{className:\"w-6 h-6 mr-3 text-indigo-600\"}),\"\\u0E41\\u0E1C\\u0E07\\u0E04\\u0E27\\u0E1A\\u0E04\\u0E38\\u0E21\\u0E04\\u0E27\\u0E32\\u0E21\\u0E1B\\u0E25\\u0E2D\\u0E14\\u0E20\\u0E31\\u0E22\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E01\\u0E32\\u0E23\\u0E40\\u0E02\\u0E49\\u0E32\\u0E16\\u0E36\\u0E07\\u0E41\\u0E25\\u0E30\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E43\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-slate-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-1 overflow-x-auto pb-px\",children:visibleTabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.key),className:\"flex items-center space-x-2 py-2 px-3 rounded-t-lg font-medium text-sm transition-colors whitespace-nowrap \".concat(activeTab===tab.key?'bg-white border-t border-x border-slate-200 text-indigo-600':'text-slate-500 hover:text-slate-700'),children:[/*#__PURE__*/_jsx(tab.icon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:tab.label})]},tab.key))})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-100 p-6 rounded-b-xl rounded-tr-xl border border-slate-200 min-h-[400px]\",children:activeComponent})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","ShieldCheck","History","UserCheck","UserX","Search","Download","Check","X","RefreshCw","Shield","Users","Edit2","Trash2","Save","Crown","UserCog","Users2","KeyRound","CONFIG","jsx","_jsx","jsxs","_jsxs","ACTION_TRANSLATIONS","UserApproval","_ref","user","pendingUsers","setPendingUsers","loading","setLoading","fetchPendingUsers","response","fetch","concat","OFFICERS_API","data","json","success","Array","isArray","filter","u","status","error","console","handleUserStatus","userId","newStatus","method","headers","body","JSON","stringify","admin_user_id","id","alert","message","children","className","length","onClick","title","map","pUser","prefix","firstname","lastname","position","phone","PersonnelManagement","_ref2","allOfficers","setAllOfficers","officers","setOfficers","editingOfficer","setEditingOfficer","filters","setFilters","search","role","department","fetchAllOfficers","officersData","filtered","searchTerm","toLowerCase","officer","includes","departmentTerm","affiliation","handleUpdateOfficer","officerId","updates","ok","errorText","text","Error","substring","contentType","get","responseText","handleDeleteOfficer","window","confirm","getRoleIcon","getStatusBadge","styles","active","pending","inactive","rejected","labels","type","placeholder","value","onChange","e","_objectSpread","target","index","_officer$firstname","_officer$lastname","charAt","generation","EditOfficerForm","onSave","onCancel","_ref3","formData","setFormData","availableRoles","availableStatuses","handleChange","name","prev","handleSubmit","preventDefault","onSubmit","required","ActivityLogs","logs","setLogs","startDate","endDate","fetchLogs","params","URLSearchParams","LOGS_API","toString","result","exportToCSV","rows","log","timestamp","full_name","username","action","details","ip_address","csvContent","row","field","String","replace","join","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","Date","toLocaleDateString","click","revokeObjectURL","colSpan","toLocaleString","DatabaseManager","_ref4","_tables$find","_tables$find2","tables","setTables","selectedTable","setSelectedTable","newTableName","setNewTableName","newColumnName","setNewColumnName","newColumnType","setNewColumnType","apiBase","API_BASE_URL","fetchTables","res","err","handleCreateTable","trim","table","d","handleDropTable","encodeURIComponent","handleAddColumn","column","handleDropColumn","t","columns","find","x","c","AdminPage","_ref5","_visibleTabs$","allTabs","key","label","icon","component","roles","visibleTabs","tab","activeTab","setActiveTab","activeComponent","currentTab"],"sources":["C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/src/pages/AdminPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport {\r\n  ShieldCheck, History, UserCheck, UserX, Search, Download, Check, X, RefreshCw,\r\n  Shield, Users, Edit2, Trash2, Save, Crown, UserCog, Users2, KeyRound\r\n} from \"lucide-react\";\r\nimport { CONFIG } from '../config';\r\n\r\n// --- พจนานุกรมสำหรับแปล Action เป็นภาษาไทย ---\r\nconst ACTION_TRANSLATIONS = {\r\n  'login_success': '✅ เข้าสู่ระบบสำเร็จ',\r\n  'login_fail': '❌ พยายามเข้าสู่ระบบ (ล้มเหลว)',\r\n  'register_success': '📝 สมัครสมาชิกสำเร็จ',\r\n  'register_fail': '⚠️ สมัครสมาชิก (ล้มเหลว)',\r\n  'view_all_officers': '👥 ดูข้อมูลบุคลากรทั้งหมด',\r\n  'search_by_phone': '📞 ค้นหาด้วยเบอร์โทร',\r\n  'search_personnel': '🔍 ค้นหาบุคลากร',\r\n  'export_personnel_csv': '📄 ส่งออกข้อมูลบุคลากร (CSV)',\r\n  'view_personnel_detail': '👁️ ดูรายละเอียดบุคลากร',\r\n  'link_line_success': '🔗 เชื่อมต่อ LINE สำเร็จ',\r\n  'link_line_fail': '⚠️ เชื่อมต่อ LINE (ล้มเหลว)',\r\n  'system_error': '🔥 เกิดข้อผิดพลาดในระบบ',\r\n  'approve_user': '👍 อนุมัติผู้ใช้',\r\n  'reject_user': '👎 ปฏิเสธผู้ใช้',\r\n};\r\n\r\n// --- Component: User Approval Section ---\r\nconst UserApproval = ({ user }) => {\r\n  const [pendingUsers, setPendingUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  const fetchPendingUsers = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`${CONFIG.OFFICERS_API}/pending`);\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        // ป้องกันการแสดงผลผิดพลาดโดยการกรองข้อมูลที่ status เป็น pending เท่านั้น\r\n        setPendingUsers(Array.isArray(data.data) ? data.data.filter(u => u.status === 'pending') : []);\r\n      } else {\r\n        setPendingUsers([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching pending users:\", error);\r\n      setPendingUsers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchPendingUsers();\r\n  }, [fetchPendingUsers]);\r\n\r\n  const handleUserStatus = async (userId, newStatus) => {\r\n    try {\r\n      const response = await fetch(`${CONFIG.OFFICERS_API}/${userId}/status`, {\r\n        method: 'PATCH', // หรือ 'PUT' ขึ้นอยู่กับการออกแบบ API\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          status: newStatus,\r\n          admin_user_id: user.id\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        fetchPendingUsers();\r\n      } else {\r\n        alert(`Error: ${data.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating user status:\", error);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>กำลังโหลดข้อมูล...</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-xl font-semibold text-slate-800\">คำขอรอดำเนินการ ({pendingUsers.length})</h2>\r\n        <button onClick={fetchPendingUsers} className=\"p-2 text-slate-500 hover:bg-slate-100 rounded-lg\" title=\"รีเฟรช\">\r\n            <RefreshCw className=\"w-5 h-5\" />\r\n        </button>\r\n      </div>\r\n      {pendingUsers.length === 0 ? (\r\n        <div className=\"text-center py-12 border-2 border-dashed border-slate-200 rounded-xl\">\r\n          <p className=\"text-slate-500\">ไม่มีคำขอที่รอการอนุมัติในขณะนี้</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white border border-slate-200 rounded-xl\">\r\n          <ul className=\"divide-y divide-slate-200\">\r\n            {pendingUsers.map((pUser) => (\r\n              <li key={pUser.id} className=\"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors\">\r\n                <div>\r\n                  <p className=\"font-medium text-slate-900\">{pUser.prefix} {pUser.firstname} {pUser.lastname}</p>\r\n                  <p className=\"text-sm text-slate-500\">{pUser.position} | {pUser.phone}</p>\r\n                </div>\r\n                <div className=\"flex space-x-2\">\r\n                  <button onClick={() => handleUserStatus(pUser.id, 'approved')} className=\"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200\" title=\"อนุมัติ\">\r\n                    <Check className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button onClick={() => handleUserStatus(pUser.id, 'rejected')} className=\"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200\" title=\"ปฏิเสธ\">\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Component: Personnel Management Section ---\r\nconst PersonnelManagement = ({ user }) => {\r\n  const [allOfficers, setAllOfficers] = useState([]); // Holds all users from API\r\n  const [officers, setOfficers] = useState([]); // Holds filtered users for display\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingOfficer, setEditingOfficer] = useState(null);\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    role: '',\r\n    status: '',\r\n    department: ''\r\n  });\r\n\r\n  const fetchAllOfficers = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(CONFIG.OFFICERS_API);\r\n      const data = await response.json();\r\n      \r\n      let officersData = [];\r\n      if (Array.isArray(data)) {\r\n        officersData = data;\r\n      } else if (data && data.success && Array.isArray(data.data)) {\r\n        officersData = data.data;\r\n      } else {\r\n        console.error('Invalid data format:', data);\r\n      }\r\n      setAllOfficers(officersData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching officers:\", error);\r\n      setAllOfficers([]); // เคลียร์ข้อมูลทั้งหมดเมื่อเกิดข้อผิดพลาด\r\n      setOfficers([]); // เคลียร์ข้อมูลที่แสดงผลเมื่อเกิดข้อผิดพลาด\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []); // แก้ไข: ลบ [filters] ออก เพื่อให้ฟังก์ชันนี้ถูกสร้างขึ้นครั้งเดียวและไม่ re-fetch ข้อมูลเมื่อ filter เปลี่ยน\r\n\r\n  useEffect(() => {\r\n    fetchAllOfficers();\r\n  }, [fetchAllOfficers]);\r\n\r\n  // Apply filters whenever the master list or filter values change\r\n  useEffect(() => {\r\n    let filtered = allOfficers;\r\n\r\n    if (filters.search) {\r\n      const searchTerm = filters.search.toLowerCase();\r\n      filtered = filtered.filter(officer =>\r\n        `${officer.prefix || ''} ${officer.firstname || ''} ${officer.lastname || ''}`.toLowerCase().includes(searchTerm) ||\r\n        (officer.phone && officer.phone.includes(searchTerm))\r\n      );\r\n    }\r\n\r\n    if (filters.role) {\r\n      filtered = filtered.filter(officer => officer.role === filters.role);\r\n    }\r\n\r\n    if (filters.status) {\r\n      filtered = filtered.filter(officer => officer.status === filters.status);\r\n    }\r\n\r\n    if (filters.department) {\r\n      const departmentTerm = filters.department.toLowerCase();\r\n      filtered = filtered.filter(officer => \r\n        (officer.department && officer.department.toLowerCase().includes(departmentTerm)) ||\r\n        (officer.affiliation && officer.affiliation.toLowerCase().includes(departmentTerm))\r\n      );\r\n    }\r\n\r\n    setOfficers(filtered);\r\n  }, [filters, allOfficers]);\r\n  const handleUpdateOfficer = async (officerId, updates) => {\r\n    try {\r\n      const response = await fetch(`${CONFIG.OFFICERS_API}/${officerId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          updates: updates,\r\n          admin_user_id: user.id\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Server responded with ${response.status}: ${errorText.substring(0, 500)}`);\r\n      }\r\n\r\n      const contentType = response.headers.get('content-type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        const responseText = await response.text();\r\n        console.error(\"Received non-JSON response:\", responseText);\r\n        throw new Error(`Expected JSON response, but received ${contentType}. See console for details.`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        fetchAllOfficers();\r\n        setEditingOfficer(null);\r\n        alert('อัปเดตข้อมูลสำเร็จ');\r\n      } else {\r\n        throw new Error(data.message || 'ไม่สามารถอัปเดตได้');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating officer:\", error);\r\n      alert(`เกิดข้อผิดพลาดในการอัปเดตข้อมูล: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDeleteOfficer = async (officer) => {\r\n    if (!window.confirm(`คุณแน่ใจหรือไม่ที่จะลบ ${officer.firstname} ${officer.lastname}?`)) return;\r\n    try {\r\n      const response = await fetch(`${CONFIG.OFFICERS_API}/${officer.id}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ admin_user_id: user.id }),\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        fetchAllOfficers();\r\n        alert('ลบข้อมูลสำเร็จ');\r\n      } else {\r\n        throw new Error(data.message || 'ไม่สามารถลบข้อมูลได้');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting officer:\", error);\r\n      alert(`เกิดข้อผิดพลาดในการลบข้อมูล: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const getRoleIcon = (role) => {\r\n    switch (role) {\r\n      case 'admin': return <Shield className=\"w-4 h-4 text-red-600\" />;\r\n      case 'supervisor': return <Crown className=\"w-4 h-4 text-yellow-600\" />;\r\n      default: return <Users className=\"w-4 h-4 text-blue-600\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const styles = {\r\n      active: 'bg-green-100 text-green-800',\r\n      pending: 'bg-yellow-100 text-yellow-800',\r\n      inactive: 'bg-gray-100 text-gray-800',\r\n      rejected: 'bg-red-100 text-red-800'\r\n    };\r\n    const labels = {\r\n      active: 'ใช้งาน',\r\n      pending: 'รอการอนุมัติ', \r\n      inactive: 'ไม่ใช้งาน',\r\n      rejected: 'ปฏิเสธ'\r\n    };\r\n    return (\r\n      <span className={`px-2 py-1 rounded-full text-xs font-medium ${styles[status] || styles.inactive}`}>\r\n        {labels[status] || status || 'ไม่ระบุ'}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-xl font-semibold text-slate-800\">จัดการบุคลากร ({officers.length})</h2>\r\n        <button \r\n          onClick={fetchAllOfficers}\r\n          className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n        >\r\n          <RefreshCw className=\"w-4 h-4\" />\r\n          <span>รีเฟรช</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-slate-50 p-4 rounded-xl border border-slate-200\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ค้นหาชื่อ, เบอร์โทร...\"\r\n              value={filters.search}\r\n              onChange={(e) => setFilters({...filters, search: e.target.value})}\r\n              className=\"pl-10 w-full p-2 border border-slate-300 rounded-lg\"\r\n            />\r\n          </div>\r\n          <select\r\n            value={filters.role}\r\n            onChange={(e) => setFilters({...filters, role: e.target.value})}\r\n            className=\"w-full p-2 border border-slate-300 rounded-lg\"\r\n          >\r\n            <option value=\"\">ทุกตำแหน่ง</option>\r\n            <option value=\"admin\">ผู้ดูแลระบบ</option>\r\n            <option value=\"supervisor\">หัวหน้าหน่วย</option>\r\n            <option value=\"member\">เจ้าหน้าที่</option>\r\n          </select>\r\n          <select\r\n            value={filters.status}\r\n            onChange={(e) => setFilters({...filters, status: e.target.value})}\r\n            className=\"w-full p-2 border border-slate-300 rounded-lg\"\r\n          >\r\n            <option value=\"\">ทุกสถานะ</option>\r\n            <option value=\"active\">ใช้งาน</option>\r\n            <option value=\"pending\">รอการอนุมัติ</option>\r\n            <option value=\"inactive\">ไม่ใช้งาน</option>\r\n          </select>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"สังกัด/หน่วยงาน...\"\r\n            value={filters.department}\r\n            onChange={(e) => setFilters({...filters, department: e.target.value})}\r\n            className=\"w-full p-2 border border-slate-300 rounded-lg\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Officers Table */}\r\n      <div className=\"bg-white border border-slate-200 rounded-xl overflow-hidden\">\r\n        {loading ? (\r\n          <div className=\"p-8 text-center\">\r\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n            <p className=\"mt-2 text-slate-500\">กำลังโหลดข้อมูล...</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm text-left\">\r\n              <thead className=\"bg-slate-50 text-slate-600\">\r\n                <tr>\r\n                  <th className=\"p-4\">ชื่อ-นามสกุล</th>\r\n                  <th className=\"p-4\">ตำแหน่ง/หน่วยงาน</th>\r\n                  <th className=\"p-4\">เบอร์โทร</th>\r\n                  <th className=\"p-4\">สิทธิ์</th>\r\n                  <th className=\"p-4\">สถานะ</th>\r\n                  <th className=\"p-4\">การจัดการ</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {officers.map((officer, index) => (\r\n                  <tr key={officer.id || officer.phone || index} className=\"border-t border-slate-200 hover:bg-slate-50\">\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center\">\r\n                          <span className=\"text-sm font-medium text-slate-600\">\r\n                            {officer.firstname?.charAt(0) || 'N'}{officer.lastname?.charAt(0) || 'A'}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"font-medium text-slate-900\">\r\n                            {officer.prefix} {officer.firstname} {officer.lastname}\r\n                          </p>\r\n                          <p className=\"text-xs text-slate-500\">{officer.generation || 'ไม่ระบุ'}</p>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <p className=\"font-medium text-slate-800\">{officer.position}</p>\r\n                      <p className=\"text-xs text-slate-500\">{officer.department || officer.affiliation}</p>\r\n                    </td>\r\n                    <td className=\"p-4 font-mono text-slate-600\">{officer.phone}</td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        {getRoleIcon(officer.role)}\r\n                        <span className=\"capitalize\">{officer.role || 'member'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">{getStatusBadge(officer.status || 'active')}</td>\r\n                    <td className=\"p-4\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button\r\n                          onClick={() => setEditingOfficer(officer)}\r\n                          className=\"p-1.5 text-blue-600 hover:bg-blue-100 rounded-lg\"\r\n                          title=\"แก้ไข\"\r\n                        >\r\n                          <Edit2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteOfficer(officer)}\r\n                          className=\"p-1.5 text-red-600 hover:bg-red-100 rounded-lg\"\r\n                          title=\"ลบ\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            {officers.length === 0 && (\r\n              <div className=\"p-8 text-center text-slate-500\">\r\n                ไม่พบข้อมูลเจ้าหน้าที่\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Edit Officer Modal */}\r\n      {editingOfficer && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl p-6 w-full max-w-md mx-4\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">แก้ไขข้อมูลเจ้าหน้าที่</h3>\r\n              <button\r\n                onClick={() => setEditingOfficer(null)}\r\n                className=\"text-slate-400 hover:text-slate-600\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n            <EditOfficerForm\r\n              officer={editingOfficer}\r\n              onSave={(updates) => handleUpdateOfficer(editingOfficer.id || editingOfficer.phone, updates)}\r\n              onCancel={() => setEditingOfficer(null)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Component: Edit Officer Form ---\r\nconst EditOfficerForm = ({ officer, onSave, onCancel }) => {\r\n    const [formData, setFormData] = useState({\r\n        prefix: officer.prefix || '',\r\n        firstname: officer.firstname || '',\r\n        lastname: officer.lastname || '',\r\n        position: officer.position || '',\r\n        department: officer.department || officer.affiliation || '',\r\n        role: officer.role || 'member',\r\n        status: officer.status || 'active'\r\n    });\r\n\r\n    const availableRoles = ['member', 'scheduler', 'supervisor', 'admin'];\r\n    const availableStatuses = ['active', 'pending', 'inactive', 'rejected', 'deleted'];\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"md:col-span-1\">\r\n          <label className=\"block text-sm font-medium text-slate-700\">คำนำหน้า</label>\r\n          <input name=\"prefix\" type=\"text\" value={formData.prefix} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\" />\r\n        </div>\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-slate-700\">ชื่อ</label>\r\n          <input name=\"firstname\" type=\"text\" value={formData.firstname} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\" required />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700\">นามสกุล</label>\r\n        <input name=\"lastname\" type=\"text\" value={formData.lastname} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\" required />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700\">ตำแหน่ง</label>\r\n        <input name=\"position\" type=\"text\" value={formData.position} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\" />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-slate-700\">สังกัด/หน่วยงาน</label>\r\n        <input name=\"department\" type=\"text\" value={formData.department} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\" />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700\">สิทธิ์ (Role)</label>\r\n          <select name=\"role\" value={formData.role} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\">\r\n            {availableRoles.map(role => (\r\n              <option key={role} value={role}>{role}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700\">สถานะ</label>\r\n          <select name=\"status\" value={formData.status} onChange={handleChange} className=\"mt-1 w-full p-2 border border-slate-300 rounded-lg\">\r\n            {availableStatuses.map(status => (\r\n              <option key={status} value={status}>{status}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-2 pt-4 border-t border-slate-200\">\r\n        <button type=\"button\" onClick={onCancel} className=\"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200\">ยกเลิก</button>\r\n        <button type=\"submit\" className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2\">\r\n          <Save className=\"w-4 h-4\" />\r\n          <span>บันทึก</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\n// --- Component: Activity Logs Section ---\r\nconst ActivityLogs = () => {\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({ search: \"\", startDate: \"\", endDate: \"\" });\r\n\r\n  const fetchLogs = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        search: filters.search,\r\n        startDate: filters.startDate,\r\n        endDate: filters.endDate,\r\n      });\r\n      const response = await fetch(`${CONFIG.LOGS_API}?${params.toString()}`);\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setLogs(result.data);\r\n      } else {\r\n        console.error(\"API Error:\", result.message);\r\n        setLogs([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching logs:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  useEffect(() => {\r\n    fetchLogs();\r\n  }, [fetchLogs]);\r\n  \r\n  const exportToCSV = useCallback(() => {\r\n    if (logs.length === 0) return alert('ไม่มีข้อมูลสำหรับ Export');\r\n    const headers = ['เวลา', 'ผู้ใช้งาน', 'กิจกรรม', 'รายละเอียด', 'IP Address'];\r\n    const rows = logs.map(log => [\r\n        log.timestamp,\r\n        log.full_name || log.username || 'N/A',\r\n        ACTION_TRANSLATIONS[log.action] || log.action,\r\n        log.details || '',\r\n        log.ip_address || ''\r\n    ]);\r\n    const csvContent = [headers, ...rows].map(row => row.map(field => `\"${String(field).replace(/\"/g, '\"\"')}\"`).join(',')).join('\\\\n');\r\n    const blob = new Blob(['\\\\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = `activity_logs_${new Date().toLocaleDateString('th-TH').replace(/\\//g, '-')}.csv`;\r\n    link.click();\r\n    URL.revokeObjectURL(link.href);\r\n  }, [logs]);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h2 className=\"text-xl font-semibold text-slate-800\">บันทึกกิจกรรมระบบ</h2>\r\n      {/* Filters */}\r\n      <div className=\"bg-slate-50 p-4 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <input type=\"text\" placeholder=\"ค้นหา Username, กิจกรรม...\" value={filters.search} onChange={(e) => setFilters({...filters, search: e.target.value})} className=\"w-full p-2 border border-slate-300 rounded-lg\" />\r\n        <input type=\"date\" value={filters.startDate} onChange={(e) => setFilters({...filters, startDate: e.target.value})} className=\"w-full p-2 border border-slate-300 rounded-lg\" />\r\n        <input type=\"date\" value={filters.endDate} onChange={(e) => setFilters({...filters, endDate: e.target.value})} className=\"w-full p-2 border border-slate-300 rounded-lg\" />\r\n        <div className=\"flex space-x-2\">\r\n            <button onClick={fetchLogs} className=\"flex-1 flex items-center justify-center p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"><Search className=\"w-4 h-4 mr-2\" /> ค้นหา</button>\r\n            <button onClick={exportToCSV} className=\"flex items-center justify-center p-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"><Download className=\"w-4 h-4\" /></button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Log Table */}\r\n      <div className=\"bg-white border border-slate-200 rounded-xl overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm text-left\">\r\n            <thead className=\"bg-slate-50 text-slate-600\">\r\n              <tr>\r\n                <th className=\"p-3\">เวลา</th>\r\n                <th className=\"p-3\">ผู้ใช้งาน</th>\r\n                <th className=\"p-3\">กิจกรรม</th>\r\n                <th className=\"p-3\">รายละเอียด</th>\r\n                <th className=\"p-3\">IP Address</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            {loading ? (\r\n                <tr><td colSpan=\"5\" className=\"text-center p-4\">กำลังโหลด...</td></tr>\r\n            ) : logs.map(log => (\r\n                <tr key={log.id} className=\"border-t border-slate-200\">\r\n                <td className=\"p-3 whitespace-nowrap\">{new Date(log.timestamp).toLocaleString('th-TH')}</td>\r\n                <td className=\"p-3 font-medium text-slate-800\">{log.full_name || log.username || <span className=\"text-slate-400\">N/A</span>}</td>\r\n                <td className=\"p-3\">{ACTION_TRANSLATIONS[log.action] || log.action}</td>\r\n                <td className=\"p-3 text-slate-500 max-w-xs truncate\" title={log.details}>{log.details}</td>\r\n                <td className=\"p-3 text-slate-500\">{log.ip_address}</td>\r\n                </tr>\r\n            ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Component: Database Manager (Admin) ---\r\nconst DatabaseManager = ({ user }) => {\r\n  const [tables, setTables] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedTable, setSelectedTable] = useState(null);\r\n  const [newTableName, setNewTableName] = useState('');\r\n  const [newColumnName, setNewColumnName] = useState('');\r\n  const [newColumnType, setNewColumnType] = useState('text');\r\n\r\n  const apiBase = CONFIG.API_BASE_URL || '';\r\n\r\n  const fetchTables = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${apiBase}/admin/db/tables`);\r\n      const data = await res.json();\r\n      if (data && Array.isArray(data.tables)) setTables(data.tables);\r\n      else setTables([]);\r\n    } catch (err) {\r\n      console.error('Error fetching tables', err);\r\n      setTables([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [apiBase]);\r\n\r\n  useEffect(() => { fetchTables(); }, [fetchTables]);\r\n\r\n  const handleCreateTable = async () => {\r\n    if (!newTableName.trim()) return alert('กรุณาระบุชื่อฐานข้อมูล (table name)');\r\n    try {\r\n      const res = await fetch(`${apiBase}/admin/db/tables`, {\r\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ table: newTableName })\r\n      });\r\n      const d = await res.json();\r\n      if (d.success) { setNewTableName(''); fetchTables(); }\r\n      else alert(d.message || 'ไม่สามารถสร้างตารางได้');\r\n    } catch (err) { console.error(err); alert('เกิดข้อผิดพลาด'); }\r\n  };\r\n\r\n  const handleDropTable = async (table) => {\r\n    if (!window.confirm(`ลบตาราง ${table} ?`)) return;\r\n    try {\r\n      const res = await fetch(`${apiBase}/admin/db/tables/${encodeURIComponent(table)}`, { method: 'DELETE' });\r\n      const d = await res.json();\r\n      if (d.success) fetchTables(); else alert(d.message || 'ลบไม่สำเร็จ');\r\n    } catch (err) { console.error(err); alert('เกิดข้อผิดพลาด'); }\r\n  };\r\n\r\n  const handleAddColumn = async (table) => {\r\n    if (!newColumnName.trim()) return alert('กรุณาระบุชื่อคอลัมน์');\r\n    try {\r\n      const res = await fetch(`${apiBase}/admin/db/tables/${encodeURIComponent(table)}/columns`, {\r\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ column: newColumnName, type: newColumnType })\r\n      });\r\n      const d = await res.json();\r\n      if (d.success) { setNewColumnName(''); setNewColumnType('text'); fetchTables(); }\r\n      else alert(d.message || 'ไม่สามารถเพิ่มคอลัมน์ได้');\r\n    } catch (err) { console.error(err); alert('เกิดข้อผิดพลาด'); }\r\n  };\r\n\r\n  const handleDropColumn = async (table, column) => {\r\n    if (!window.confirm(`ลบคอลัมน์ ${column} จาก ${table} ?`)) return;\r\n    try {\r\n      const res = await fetch(`${apiBase}/admin/db/tables/${encodeURIComponent(table)}/columns/${encodeURIComponent(column)}`, { method: 'DELETE' });\r\n      const d = await res.json();\r\n      if (d.success) fetchTables(); else alert(d.message || 'ลบคอลัมน์ไม่สำเร็จ');\r\n    } catch (err) { console.error(err); alert('เกิดข้อผิดพลาด'); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-xl font-semibold\">จัดการฐานข้อมูล</h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button onClick={fetchTables} className=\"px-3 py-2 bg-slate-100 rounded\">รีเฟรช</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"md:col-span-2 space-y-3\">\r\n          <div className=\"bg-white border border-slate-200 rounded-xl p-4\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <div className=\"text-sm text-slate-600\">ตารางทั้งหมด</div>\r\n              <div className=\"text-sm text-slate-500\">{tables.length} รายการ</div>\r\n            </div>\r\n            {loading ? (\r\n              <div className=\"p-6 text-center\">กำลังโหลด...</div>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {tables.map(t => (\r\n                  <div key={t.name} className=\"p-3 bg-slate-50 rounded flex items-center justify-between\">\r\n                    <div>\r\n                      <div className=\"font-medium\">{t.name}</div>\r\n                      <div className=\"text-xs text-slate-500\">{(t.columns||[]).length} คอลัมน์</div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button onClick={() => setSelectedTable(t.name)} className=\"px-2 py-1 bg-white border rounded\">ดูคอลัมน์</button>\r\n                      <button onClick={() => handleDropTable(t.name)} className=\"px-2 py-1 bg-red-100 text-red-700 rounded\">ลบ</button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {tables.length === 0 && <div className=\"p-4 text-slate-500\">ไม่มีตาราง</div>}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {selectedTable && (\r\n            <div className=\"bg-white border border-slate-200 rounded-xl p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <div className=\"font-medium\">คอลัมน์: {selectedTable}</div>\r\n                <button onClick={() => setSelectedTable(null)} className=\"text-slate-500\">ปิด</button>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                {(tables.find(x => x.name === selectedTable)?.columns || []).map(c => (\r\n                  <div key={c.name} className=\"flex items-center justify-between p-2 bg-slate-50 rounded\">\r\n                    <div><strong>{c.name}</strong> <span className=\"text-xs text-slate-500\">{c.type}</span></div>\r\n                    <button onClick={() => handleDropColumn(selectedTable, c.name)} className=\"text-red-600 text-sm\">ลบ</button>\r\n                  </div>\r\n                ))}\r\n                {(tables.find(x => x.name === selectedTable)?.columns || []).length === 0 && <div className=\"text-slate-500\">ไม่มีคอลัมน์</div>}\r\n                <div className=\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2\">\r\n                  <input placeholder=\"ชื่อคอลัมน์\" value={newColumnName} onChange={e => setNewColumnName(e.target.value)} className=\"p-2 border rounded\" />\r\n                  <select value={newColumnType} onChange={e => setNewColumnType(e.target.value)} className=\"p-2 border rounded\">\r\n                    <option value=\"text\">text</option>\r\n                    <option value=\"integer\">integer</option>\r\n                    <option value=\"boolean\">boolean</option>\r\n                    <option value=\"timestamp\">timestamp</option>\r\n                  </select>\r\n                  <button onClick={() => handleAddColumn(selectedTable)} className=\"px-3 py-2 bg-indigo-600 text-white rounded\">เพิ่มคอลัมน์</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"space-y-3\">\r\n          <div className=\"bg-white border border-slate-200 rounded-xl p-4\">\r\n            <div className=\"text-sm text-slate-600 mb-2\">สร้างตารางใหม่</div>\r\n            <input placeholder=\"ชื่อตาราง (table_name)\" value={newTableName} onChange={e => setNewTableName(e.target.value)} className=\"w-full p-2 border rounded mb-2\" />\r\n            <div className=\"flex gap-2\">\r\n              <button onClick={handleCreateTable} className=\"px-3 py-2 bg-indigo-600 text-white rounded\">สร้าง</button>\r\n              <button onClick={() => setNewTableName('')} className=\"px-3 py-2 bg-slate-100 rounded\">ยกเลิก</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Main Component: AdminPage ---\r\nexport default function AdminPage({ user }) {\r\n    const allTabs = [\r\n      { key: 'approval', label: 'คำขออนุมัติ', icon: UserCheck, component: <UserApproval user={user} />, roles: ['super_admin', 'admin'] },\r\n      { key: 'personnel', label: 'จัดการบุคลากร', icon: Users2, component: <PersonnelManagement user={user} />, roles: ['super_admin', 'admin'] },\r\n      { key: 'logs', label: 'บันทึกกิจกรรม', icon: History, component: <ActivityLogs />, roles: ['super_admin', 'admin', 'supervisor'] },\r\n    ];\r\n\r\n    const visibleTabs = useMemo(() => {\r\n        if (!user || !user.role) return [];\r\n        if (user.role === 'super_admin' || user.role === 'admin') {\r\n            return allTabs;\r\n        }\r\n        return allTabs.filter(tab => tab.roles.includes(user.role));\r\n    }, [user]);\r\n\r\n    const [activeTab, setActiveTab] = useState(visibleTabs[0]?.key || '');\r\n\r\n    const activeComponent = useMemo(() => {\r\n      const currentTab = visibleTabs.find(tab => tab.key === activeTab);\r\n      return currentTab ? currentTab.component : <div className=\"text-slate-500\">คุณไม่มีสิทธิ์เข้าถึงส่วนนี้</div>;\r\n    }, [activeTab, visibleTabs]);\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-slate-900 flex items-center\">\r\n              <ShieldCheck className=\"w-6 h-6 mr-3 text-indigo-600\" />\r\n              แผงควบคุมความปลอดภัย\r\n            </h1>\r\n            <p className=\"text-slate-600\">จัดการการเข้าถึงและตรวจสอบกิจกรรมในระบบ</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"border-b border-slate-200\">\r\n          <nav className=\"flex space-x-1 overflow-x-auto pb-px\">\r\n            {visibleTabs.map(tab => (\r\n              <button\r\n                key={tab.key}\r\n                onClick={() => setActiveTab(tab.key)}\r\n                className={`flex items-center space-x-2 py-2 px-3 rounded-t-lg font-medium text-sm transition-colors whitespace-nowrap ${\r\n                  activeTab === tab.key\r\n                    ? 'bg-white border-t border-x border-slate-200 text-indigo-600'\r\n                    : 'text-slate-500 hover:text-slate-700'\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"bg-slate-100 p-6 rounded-b-xl rounded-tr-xl border border-slate-200 min-h-[400px]\">\r\n          {activeComponent}\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}