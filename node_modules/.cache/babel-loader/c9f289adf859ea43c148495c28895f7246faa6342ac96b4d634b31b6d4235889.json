{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\GitHub\\\\court-marshal-connect\\\\src\\\\pages\\\\PersonnelPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$();\nimport React, { useEffect, useState, useMemo, useCallback, memo } from \"react\";\nimport { Search, Filter, Users, Phone, Mail, Calendar, Award, Building2, UserCheck, UserX, TrendingUp, PieChart, BarChart3, Download, RefreshCw, Eye, Grid3X3, List, X, AlertCircle, CheckCircle2, Clock, Briefcase, GraduationCap, Edit2, Save } from \"lucide-react\";\nimport { CONFIG } from '../config';\n\n// StatCard Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatCard = /*#__PURE__*/memo(_c = ({\n  title,\n  value,\n  icon: Icon,\n  color = \"blue\",\n  trend,\n  subtitle\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between mb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-12 h-12 bg-${color}-100 rounded-xl flex items-center justify-center`,\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        className: `w-6 h-6 text-${color}-600`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), trend && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-green-600 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n        className: \"w-4 h-4 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [trend, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-3xl font-bold text-slate-900 mb-1\",\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-sm text-slate-600\",\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this), subtitle && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-xs text-slate-500 mt-1\",\n    children: subtitle\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 36,\n  columnNumber: 3\n}, this));\n\n// Table Chart Component (สำหรับแสดงข้อมูลตำแหน่งแบบตาราง)\n_c2 = StatCard;\nconst TableChart = /*#__PURE__*/_s(/*#__PURE__*/memo(_c3 = _s(({\n  title,\n  data,\n  colors = []\n}) => {\n  _s();\n  const total = useMemo(() => data.reduce((sum, d) => sum + d.value, 0), [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n        className: \"w-5 h-5 mr-2 text-slate-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-slate-900\",\n          children: total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-500\",\n          children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-2\",\n        children: data.slice(0, 8).map((item, index) => {\n          const percentage = (item.value / total * 100).toFixed(1);\n          const color = colors[index % colors.length] || '#6366f1';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-3 bg-slate-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 rounded-sm flex-shrink-0\",\n                style: {\n                  backgroundColor: color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-slate-700 font-medium truncate\",\n                title: item.label,\n                children: item.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-bold text-slate-900\",\n                children: item.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: [percentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)]\n          }, `${item.label}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}, \"TUahRIVHrNmruf3w2Blr6WVpjUQ=\")), \"TUahRIVHrNmruf3w2Blr6WVpjUQ=\");\n\n// Function สำหรับตัดคำยาว\n_c4 = TableChart;\nconst truncatePosition = position => {\n  if (!position) return '';\n  const removePatterns = ['เจ้าพนักงานตำรวจศาล', 'ตำรวจศาล', 'ตำรวจ', 'พนักงาน'];\n  let result = position;\n  for (const pattern of removePatterns) {\n    result = result.replace(new RegExp(pattern, 'gi'), '');\n  }\n  return result.trim() || position;\n};\n\n// Function สำหรับตัดคำ \"ศาล\" ออกจากสังกัด\nconst truncateAffiliation = affiliation => {\n  if (!affiliation) return '';\n  return affiliation.replace(/ศาล/gi, '').trim() || affiliation;\n};\n\n// --- NEW: Proportional Treemap Chart Component ---\n// --- NEW: Proportional Treemap Chart Component (MODIFIED FOR LOGARITHMIC SCALE) ---\nconst TreemapChart = /*#__PURE__*/_s2(/*#__PURE__*/memo(_c5 = _s2(({\n  title,\n  data,\n  colors = []\n}) => {\n  _s2();\n  // --- ส่วนที่แก้ไข: คำนวณ total จากค่าจริงก่อนแปลงสเกล ---\n  const originalTotal = useMemo(() => data.reduce((sum, d) => sum + d.value, 0), [data]);\n\n  // --- ส่วนที่แก้ไข: สร้างข้อมูลชุดใหม่ที่มีการปรับสเกลด้วย Math.log1p ---\n  // Math.log1p(x) จะคำนวณ log(1+x) ช่วยให้ค่าที่น้อยๆ มีขนาดใหญ่ขึ้นเมื่อเทียบกับค่ามากๆ\n  const scaledData = useMemo(() => data.map(item => ({\n    ...item,\n    scaledValue: Math.log1p(item.value)\n  })), [data]);\n  const generateTreemapLayout = useCallback((items, width, height) => {\n    let rects = [];\n    const layoutRow = (rowItems, x, y, w, h) => {\n      if (!rowItems.length) return;\n      // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\n      const totalValue = rowItems.reduce((sum, i) => sum + i.scaledValue, 0);\n      if (totalValue === 0) return;\n      let offset = 0;\n      const isHorizontal = w > h;\n      for (const item of rowItems) {\n        // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\n        const percentage = item.scaledValue / totalValue;\n        if (isHorizontal) {\n          const rectWidth = w * percentage;\n          rects.push({\n            x: x + offset,\n            y,\n            width: rectWidth,\n            height: h,\n            item\n          });\n          offset += rectWidth;\n        } else {\n          const rectHeight = h * percentage;\n          rects.push({\n            x,\n            y: y + offset,\n            width: w,\n            height: rectHeight,\n            item\n          });\n          offset += rectHeight;\n        }\n      }\n    };\n    const squarify = (items, x, y, w, h) => {\n      if (!items.length) return;\n      if (items.length <= 4) {\n        layoutRow(items, x, y, w, h);\n        return;\n      }\n      // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\n      const halfValue = items.reduce((sum, i) => sum + i.scaledValue, 0) / 2;\n      let runningTotal = 0;\n      let splitIndex = 0;\n      for (let i = 0; i < items.length; i++) {\n        // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\n        runningTotal += items[i].scaledValue;\n        if (runningTotal >= halfValue) {\n          splitIndex = i + 1;\n          break;\n        }\n      }\n      splitIndex = Math.max(1, splitIndex);\n      const groupA = items.slice(0, splitIndex);\n      const groupB = items.slice(splitIndex);\n      const groupATotal = groupA.reduce((sum, i) => sum + i.scaledValue, 0);\n      const totalValue = groupATotal + groupB.reduce((sum, i) => sum + i.scaledValue, 0);\n      if (totalValue === 0) return;\n      if (w > h) {\n        const groupAWidth = w * (groupATotal / totalValue);\n        squarify(groupA, x, y, groupAWidth, h);\n        squarify(groupB, x + groupAWidth, y, w - groupAWidth, h);\n      } else {\n        const groupAHeight = h * (groupATotal / totalValue);\n        squarify(groupA, x, y, w, groupAHeight);\n        squarify(groupB, x, y + groupAHeight, w, h - groupAHeight);\n      }\n    };\n    squarify(items, 0, 0, 1000, 1000); // Use a relative base for layout\n    return rects;\n  }, []);\n\n  // --- ส่วนที่แก้ไข: ส่ง scaledData เข้าไปคำนวณ layout ---\n  const layout = useMemo(() => generateTreemapLayout(scaledData), [scaledData, generateTreemapLayout]);\n  if (!data.length || originalTotal === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-5 h-5 mr-2 text-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 85\n        }, this), title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-500\",\n          children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E01\\u0E23\\u0E32\\u0E1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-slate-900 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-5 h-5 mr-2 text-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-slate-900\",\n          children: originalTotal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-slate-500\",\n          children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full flex-1\",\n      children: layout.map(rect => {\n        const itemIndex = scaledData.findIndex(d => d.label === rect.item.label);\n        const color = colors[itemIndex % colors.length];\n\n        // --- ส่วนที่แก้ไข: คำนวณ % จากค่าจริง ---\n        const percentage = originalTotal > 0 ? (rect.item.value / originalTotal * 100).toFixed(1) : 0;\n        const valueText = `${rect.item.value} (${percentage}%)`;\n        const fontSize = Math.min(rect.width / 10, rect.height / 5, 16);\n        const textShadowStyle = {\n          textShadow: '0px 1px 3px rgba(0, 0, 0, 0.6)'\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute border-2 border-white rounded-md flex flex-col items-center justify-center p-1 overflow-hidden text-center\",\n          style: {\n            left: `${rect.x / 10}%`,\n            top: `${rect.y / 10}%`,\n            width: `${rect.width / 10}%`,\n            height: `${rect.height / 10}%`,\n            backgroundColor: color,\n            transition: 'all 0.4s ease-in-out'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white font-bold\",\n            style: {\n              fontSize: `${fontSize}px`,\n              ...textShadowStyle\n            },\n            children: valueText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white opacity-90 leading-tight\",\n            style: {\n              fontSize: `${Math.max(fontSize * 0.7, 10)}px`,\n              ...textShadowStyle\n            },\n            children: rect.item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, rect.item.label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}, \"tKEXOZNPI3AalzIv6bFC4hz8MvI=\")), \"tKEXOZNPI3AalzIv6bFC4hz8MvI=\");\n\n// Pie Chart Component - เปลี่ยนเป็น Donut Chart\n_c6 = TreemapChart;\nconst PieChartComponent = /*#__PURE__*/_s3(/*#__PURE__*/memo(_c7 = _s3(({\n  title,\n  data,\n  colors = []\n}) => {\n  _s3();\n  const total = useMemo(() => data.reduce((sum, d) => sum + d.value, 0), [data]);\n  if (!data.length || total === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(PieChart, {\n          className: \"w-5 h-5 mr-2 text-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-500\",\n          children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E01\\u0E23\\u0E32\\u0E1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 h-fit\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-slate-900 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(PieChart, {\n          className: \"w-5 h-5 mr-2 text-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-slate-900\",\n          children: [\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19 \", total, \" \\u0E04\\u0E19\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative border border-slate-200 rounded-lg p-4 bg-slate-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative w-48 h-48\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"192\",\n            height: \"192\",\n            viewBox: \"0 0 192 192\",\n            className: \"w-full h-full\",\n            children: data.map((item, index) => {\n              const percentage = item.value / total;\n              const angle = percentage * 360;\n              const prevPercentage = data.slice(0, index).reduce((sum, d) => sum + d.value, 0) / total;\n              const startAngle = prevPercentage * 360 - 90;\n              const endAngle = startAngle + angle;\n\n              // Donut chart - outer radius 80, inner radius 45\n              const outerRadius = 80;\n              const innerRadius = 45;\n              const startXOuter = 96 + outerRadius * Math.cos(startAngle * Math.PI / 180);\n              const startYOuter = 96 + outerRadius * Math.sin(startAngle * Math.PI / 180);\n              const endXOuter = 96 + outerRadius * Math.cos(endAngle * Math.PI / 180);\n              const endYOuter = 96 + outerRadius * Math.sin(endAngle * Math.PI / 180);\n              const startXInner = 96 + innerRadius * Math.cos(endAngle * Math.PI / 180);\n              const startYInner = 96 + innerRadius * Math.sin(endAngle * Math.PI / 180);\n              const endXInner = 96 + innerRadius * Math.cos(startAngle * Math.PI / 180);\n              const endYInner = 96 + innerRadius * Math.sin(startAngle * Math.PI / 180);\n              const largeArcFlag = angle > 180 ? 1 : 0;\n              const pathData = ['M', startXOuter, startYOuter, 'A', outerRadius, outerRadius, 0, largeArcFlag, 1, endXOuter, endYOuter, 'L', startXInner, startYInner, 'A', innerRadius, innerRadius, 0, largeArcFlag, 0, endXInner, endYInner, 'Z'].join(' ');\n              const pieColors = ['#8b5cf6', '#ec4899', '#06b6d4', '#10b981', '#f59e0b', '#ef4444', '#84cc16', '#6366f1', '#f97316', '#14b8a6'];\n              const color = pieColors[index % pieColors.length];\n\n              // คำนวณตำแหน่งสำหรับแสดง percentage\n              const midAngle = startAngle + angle / 2;\n              const labelRadius = 90;\n              const labelX = 96 + labelRadius * Math.cos(midAngle * Math.PI / 180);\n              const labelY = 96 + labelRadius * Math.sin(midAngle * Math.PI / 180);\n              const percentageText = `${(percentage * 100).toFixed(1)}%`;\n              return /*#__PURE__*/_jsxDEV(\"g\", {\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: pathData,\n                  fill: color,\n                  stroke: \"white\",\n                  strokeWidth: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), percentage > 0.05 && /*#__PURE__*/_jsxDEV(\"text\", {\n                  x: labelX,\n                  y: labelY,\n                  textAnchor: \"middle\",\n                  dominantBaseline: \"middle\",\n                  fill: \"#1e293b\",\n                  fontSize: \"10\",\n                  fontWeight: \"bold\",\n                  stroke: \"white\",\n                  strokeWidth: \"2\",\n                  paintOrder: \"stroke\",\n                  children: percentageText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this)]\n              }, `donut-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full mt-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2\",\n            children: data.map((item, index) => {\n              const percentage = (item.value / total * 100).toFixed(0);\n              const pieColors = ['#8b5cf6', '#ec4899', '#06b6d4', '#10b981', '#f59e0b', '#ef4444', '#84cc16', '#6366f1', '#f97316', '#14b8a6'];\n              const color = pieColors[index % pieColors.length];\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 min-w-0 flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-3 h-3 rounded-full flex-shrink-0\",\n                    style: {\n                      backgroundColor: color\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-slate-700\",\n                    children: [truncateAffiliation(item.label), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-slate-900\",\n                      children: item.value\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 59\n                    }, this), \" \\u0E04\\u0E19\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-bold text-slate-900 ml-2\",\n                  children: [percentage, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this)]\n              }, `legend-${item.label}-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n}, \"TUahRIVHrNmruf3w2Blr6WVpjUQ=\")), \"TUahRIVHrNmruf3w2Blr6WVpjUQ=\");\n\n// Paste this code right after the PieChartComponent code block\n\n// Horizontal Bar Chart Component\n// Horizontal Bar Chart Component\n_c8 = PieChartComponent;\nconst HorizontalBarChart = /*#__PURE__*/_s4(/*#__PURE__*/memo(_c9 = _s4(({\n  title,\n  data,\n  colors = []\n}) => {\n  _s4();\n  const getSortOrder = label => {\n    const regionMatch = label.match(/ภาค\\s*(\\d+)/);\n    if (regionMatch) return parseInt(regionMatch[1]);\n    const customOrder = ['ศาลชั้นต้นในเขตกรุงเทพมหานคร', 'ศูนย์รักษาความปลอดภัย', 'ศาลชำนาญพิเศษ', 'ศาลสูง'];\n    const index = customOrder.findIndex(item => label.includes(item));\n    if (index !== -1) return 100 + index;\n    return 999;\n  };\n  const sortedData = useMemo(() => [...data].sort((a, b) => getSortOrder(a.label) - getSortOrder(b.label)), [data]);\n  const maxValue = useMemo(() => {\n    if (!sortedData || sortedData.length === 0) return 0;\n    return Math.max(...sortedData.map(d => d.value));\n  }, [sortedData]);\n  if (!sortedData.length || maxValue === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-5 h-5 mr-2 text-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 85\n        }, this), title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-500\",\n          children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E01\\u0E23\\u0E32\\u0E1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n        className: \"w-5 h-5 mr-2 text-slate-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 83\n      }, this), title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: data.map((item, index) => {\n        const barWidth = item.value / maxValue * 100;\n        const color = colors[index % colors.length] || '#8b5cf6';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-2 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 text-sm text-slate-700 font-medium text-left\",\n            title: item.label,\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 w-full bg-slate-100 rounded-full h-7 relative\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-7 rounded-full transition-all duration-700 flex items-center justify-end pr-3\",\n              style: {\n                width: `${barWidth}%`,\n                backgroundColor: color,\n                minWidth: '40px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white text-sm font-bold\",\n                children: item.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)]\n        }, `${item.label}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 440,\n    columnNumber: 5\n  }, this);\n}, \"ySiaVFDJZjNyt1Pd8oChNl24Els=\")), \"ySiaVFDJZjNyt1Pd8oChNl24Els=\");\n\n// Bar Chart Component\n_c0 = HorizontalBarChart;\nconst BarChart = /*#__PURE__*/_s5(/*#__PURE__*/memo(_c1 = _s5(({\n  title,\n  data,\n  colors = []\n}) => {\n  _s5();\n  const maxValue = useMemo(() => Math.max(...data.map(d => d.value)), [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold text-slate-900 mb-4 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n        className: \"w-5 h-5 mr-2 text-slate-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-48 flex items-end justify-between space-x-1\",\n      children: data.slice(0, 8).map((item, index) => {\n        const height = item.value / maxValue * 100;\n        const color = colors[index % colors.length] || '#6366f1';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col items-center max-w-[60px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full bg-slate-100 rounded-t-lg overflow-hidden\",\n            style: {\n              height: '160px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 w-full rounded-t-lg transition-all duration-700 flex items-end justify-center pb-1\",\n              style: {\n                height: `${height}%`,\n                backgroundColor: color\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white text-xs font-medium\",\n                children: item.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-600 mt-2 text-center truncate w-full\",\n            title: item.label,\n            children: item.label.length > 8 ? item.label.slice(0, 8) + '...' : item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this)]\n        }, `bar-${item.label}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 478,\n    columnNumber: 5\n  }, this);\n}, \"zZKJlvo6UTjUdhbegm4d8bgOklY=\")), \"zZKJlvo6UTjUdhbegm4d8bgOklY=\");\n\n// Personnel Card Component (MODIFIED)\n_c10 = BarChart;\nconst PersonnelCard = /*#__PURE__*/memo(_c11 = ({\n  person,\n  onView\n}) => {\n  var _person$firstname;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-4 shadow-sm border border-slate-200 hover:shadow-lg transition-shadow duration-200 group relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => onView(person),\n      className: \"absolute top-3 right-3 p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100 focus:outline-none\",\n      title: \"\\u0E14\\u0E39\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\",\n      children: /*#__PURE__*/_jsxDEV(Eye, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start space-x-3 mb-3 pr-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-12 h-12 flex-shrink-0 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-white text-sm font-bold\",\n          children: ((_person$firstname = person.firstname) === null || _person$firstname === void 0 ? void 0 : _person$firstname.charAt(0)) || \"?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-w-0 flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-slate-900 truncate\",\n          children: [person.prefix, \" \", person.firstname, \" \", person.lastname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 text-xs truncate\",\n          children: person.position || 'ไม่ระบุตำแหน่ง'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 9\n        }, this), person.generation && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-flex mt-1 px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-700\",\n          children: [\"\\u0E23\\u0E38\\u0E48\\u0E19 \", person.generation]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2 text-xs\",\n      children: [person.affiliation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-slate-600\",\n        children: [/*#__PURE__*/_jsxDEV(Building2, {\n          className: \"w-3 h-3 mr-1.5 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"truncate\",\n          children: person.affiliation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), person.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-slate-600\",\n        children: [/*#__PURE__*/_jsxDEV(Phone, {\n          className: \"w-3 h-3 mr-1.5 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: person.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this), person.dob && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-slate-600\",\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"w-3 h-3 mr-1.5 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: person.dob\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 516,\n    columnNumber: 3\n  }, this);\n});\n\n// Filter Panel Component\n// Filter Panel Component (MODIFIED)\n_c12 = PersonnelCard;\nconst FilterPanel = /*#__PURE__*/_s6(/*#__PURE__*/memo(_c13 = _s6(({\n  filters,\n  onFiltersChange,\n  stats,\n  personnelData,\n  isOpen,\n  onToggle\n}) => {\n  _s6();\n  // --- MODIFIED: Logic for dynamic department options ---\n  const departmentOptions = useMemo(() => {\n    // If no affiliation is selected, show all departments from stats\n    if (!filters.affiliation) {\n      return Object.entries(stats.byDepartment).sort(([a], [b]) => a.localeCompare(b));\n    }\n\n    // If an affiliation IS selected, filter personnel to find departments within it\n    const personnelInAffiliation = personnelData.filter(p => p.affiliation === filters.affiliation);\n    const departmentsInAffiliation = personnelInAffiliation.reduce((acc, person) => {\n      const dept = person.deph || 'ไม่ระบุ';\n      acc[dept] = (acc[dept] || 0) + 1;\n      return acc;\n    }, {});\n    return Object.entries(departmentsInAffiliation).sort(([a], [b]) => a.localeCompare(b));\n  }, [filters.affiliation, personnelData, stats.byDepartment]);\n  const sortedAffiliations = useMemo(() => Object.entries(stats.byAffiliation).sort(([a], [b]) => a.localeCompare(b)), [stats.byAffiliation]);\n  const sortedPositions = useMemo(() => Object.entries(stats.byPosition).sort(([a], [b]) => a.localeCompare(b)), [stats.byPosition]);\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-slate-900\",\n        children: \"\\u0E15\\u0E31\\u0E27\\u0E01\\u0E23\\u0E2D\\u0E07\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onToggle,\n        className: \"text-slate-400 hover:text-slate-600\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-slate-700 mb-2\",\n          children: \"\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.position,\n          onChange: e => onFiltersChange({\n            ...filters,\n            position: e.target.value\n          }),\n          className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this), sortedPositions.map(([position, count]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: position,\n            children: [position, \" (\", count, \")\"]\n          }, position, true, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-slate-700 mb-2\",\n          children: \"\\u0E2A\\u0E31\\u0E07\\u0E01\\u0E31\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.affiliation,\n          onChange: e => onFiltersChange({\n            ...filters,\n            affiliation: e.target.value,\n            deph: ''\n          }),\n          className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 13\n          }, this), sortedAffiliations.map(([affiliation, count]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: affiliation,\n            children: [affiliation, \" (\", count, \")\"]\n          }, affiliation, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-slate-700 mb-2\",\n          children: \"\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.deph,\n          onChange: e => onFiltersChange({\n            ...filters,\n            deph: e.target.value\n          }),\n          className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\",\n          disabled: !filters.affiliation // Disabled if no affiliation is selected\n          ,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 13\n          }, this), departmentOptions.map(([dept, count]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: dept,\n            children: [dept, \" (\", count, \")\"]\n          }, dept, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-slate-700 mb-2\",\n          children: \"\\u0E23\\u0E38\\u0E48\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.generation,\n          onChange: e => onFiltersChange({\n            ...filters,\n            generation: e.target.value\n          }),\n          className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 13\n          }, this), Object.entries(stats.byGeneration).sort(([a], [b]) => (parseInt(a) || 0) - (parseInt(b) || 0)).map(([generation, count]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: generation,\n            children: [\"\\u0E23\\u0E38\\u0E48\\u0E19 \", generation, \" (\", count, \" \\u0E04\\u0E19)\"]\n          }, generation, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-slate-700 mb-2\",\n          children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E01\\u0E32\\u0E23\\u0E40\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E21\\u0E15\\u0E48\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.connected,\n          onChange: e => onFiltersChange({\n            ...filters,\n            connected: e.target.value\n          }),\n          className: \"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"true\",\n            children: \"\\u0E40\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E21\\u0E15\\u0E48\\u0E2D\\u0E41\\u0E25\\u0E49\\u0E27\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"false\",\n            children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E40\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E21\\u0E15\\u0E48\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mt-4 pt-4 border-t border-slate-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-slate-600\",\n        children: [\"\\u0E1E\\u0E1A \", Object.values(filters).filter(v => v && v !== filters.search).length, \" \\u0E15\\u0E31\\u0E27\\u0E01\\u0E23\\u0E2D\\u0E07\\u0E17\\u0E35\\u0E48\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onFiltersChange({\n          position: '',\n          affiliation: '',\n          deph: '',\n          generation: '',\n          connected: '',\n          search: filters.search\n        }),\n        className: \"text-sm text-indigo-600 hover:text-indigo-800 font-medium\",\n        children: \"\\u0E25\\u0E49\\u0E32\\u0E07\\u0E15\\u0E31\\u0E27\\u0E01\\u0E23\\u0E2D\\u0E07\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 605,\n    columnNumber: 5\n  }, this);\n}, \"prhbjSPQjE5giRte1JqsVlaPfzM=\")), \"prhbjSPQjE5giRte1JqsVlaPfzM=\");\n\n// Detail Modal Component (MODIFIED)\n_c14 = FilterPanel;\nconst PersonnelDetailModal = /*#__PURE__*/memo(_c15 = ({\n  person,\n  isOpen,\n  onClose\n}) => {\n  var _person$firstname2;\n  if (!isOpen || !person) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-screen items-center justify-center p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black/50 transition-opacity\",\n        onClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 rounded-t-3xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-slate-900\",\n              children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              className: \"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-6 mb-6 p-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 bg-white/20 rounded-2xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl font-bold\",\n                children: ((_person$firstname2 = person.firstname) === null || _person$firstname2 === void 0 ? void 0 : _person$firstname2.charAt(0)) || \"?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-bold mb-1\",\n                children: [person.prefix, \" \", person.firstname, \" \", person.lastname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white/90 mb-2\",\n                children: person.position || 'ไม่ระบุตำแหน่ง'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 text-sm\",\n                children: person.generation && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-400/20 text-blue-100\",\n                  children: [/*#__PURE__*/_jsxDEV(GraduationCap, {\n                    className: \"w-3 h-3 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 23\n                  }, this), \"\\u0E23\\u0E38\\u0E48\\u0E19 \", person.generation]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-slate-900 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 767,\n                  columnNumber: 19\n                }, this), \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [{\n                  label: 'คำนำหน้า',\n                  value: person.prefix\n                }, {\n                  label: 'ชื่อ',\n                  value: person.firstname\n                }, {\n                  label: 'นามสกุล',\n                  value: person.lastname\n                }, {\n                  label: 'วันเกิด',\n                  value: person.dob\n                }, {\n                  label: 'เบอร์โทรศัพท์',\n                  value: person.phone,\n                  icon: Phone\n                }, {\n                  label: 'อีเมล',\n                  value: person.email,\n                  icon: Mail\n                }].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-slate-600\",\n                    children: [item.icon && /*#__PURE__*/_jsxDEV(item.icon, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 782,\n                      columnNumber: 39\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm\",\n                      children: item.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 783,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 781,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-slate-900 font-medium text-right max-w-[60%] break-words\",\n                    children: item.value || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 785,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 780,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-slate-900 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Building2, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 795,\n                  columnNumber: 19\n                }, this), \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E01\\u0E32\\u0E23\\u0E17\\u0E33\\u0E07\\u0E32\\u0E19\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [{\n                  label: 'ตำแหน่ง',\n                  value: person.position,\n                  icon: Award\n                }, {\n                  label: 'สังกัด',\n                  value: person.affiliation,\n                  icon: Building2\n                }, {\n                  label: 'หน่วยงาน/ส่วนงาน',\n                  value: person.deph,\n                  icon: Briefcase\n                }, {\n                  label: 'รุ่น',\n                  value: person.generation,\n                  icon: GraduationCap\n                }].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-slate-600\",\n                    children: [item.icon && /*#__PURE__*/_jsxDEV(item.icon, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 808,\n                      columnNumber: 39\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm\",\n                      children: item.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 809,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 807,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-slate-900 font-medium text-right max-w-[60%] break-words\",\n                    children: item.value || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 811,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 806,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 721,\n    columnNumber: 5\n  }, this);\n});\n\n// --- NEW COMPONENT: SearchModal (Modified) ---\n_c16 = PersonnelDetailModal;\nconst SearchModal = /*#__PURE__*/_s7(/*#__PURE__*/memo(_c17 = _s7(({\n  isOpen,\n  onClose,\n  personnelData,\n  stats,\n  onViewPerson,\n  onExport,\n  user\n}) => {\n  _s7();\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\n  const [showFilters, setShowFilters] = useState(false);\n\n  // New state to track if a search has been initiated\n  const [hasSearched, setHasSearched] = useState(false);\n  const [filters, setFilters] = useState({\n    search: \"\",\n    position: \"\",\n    affiliation: \"\",\n    deph: \"\",\n    generation: \"\",\n    connected: \"\"\n  });\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedSearch(searchInput), 300);\n    return () => clearTimeout(timer);\n  }, [searchInput]);\n  useEffect(() => {\n    // Automatically apply debounced search to filters if a search is active\n    if (hasSearched) {\n      setFilters(prev => ({\n        ...prev,\n        search: debouncedSearch\n      }));\n    }\n  }, [debouncedSearch, hasSearched]);\n  const filteredPersonnel = useMemo(() => {\n    // Only filter data if a search has been triggered\n    if (!hasSearched || !personnelData.length) return [];\n    return personnelData.filter(person => {\n      if (filters.search) {\n        const searchTerm = filters.search.toLowerCase().trim();\n        const searchableFields = [person.firstname, person.lastname, person.position, person.affiliation, person.deph, person.phone, person.email, person.prefix, person.generation ? `รุ่น${person.generation}` : '', person.generation ? `รุ่น ${person.generation}` : '', person.generation ? person.generation.toString() : ''];\n        const searchableText = searchableFields.filter(Boolean).join(' ').toLowerCase();\n        if (!searchableText.includes(searchTerm)) return false;\n      }\n      if (filters.position && person.position !== filters.position) return false;\n      if (filters.affiliation && person.affiliation !== filters.affiliation) return false;\n      if (filters.deph && person.deph !== filters.deph) return false;\n      if (filters.generation && String(person.generation).trim() !== filters.generation) return false;\n      return true;\n    });\n  }, [personnelData, filters, hasSearched]); // hasSearched is now a dependency\n\n  const handleFiltersChange = useCallback(newFilters => {\n    setFilters(newFilters);\n    // If filters are changed, we consider it a new search action\n    if (!hasSearched) setHasSearched(true);\n  }, [hasSearched]);\n  const clearAllFilters = useCallback(() => {\n    setFilters({\n      search: \"\",\n      position: \"\",\n      affiliation: \"\",\n      deph: \"\",\n      generation: \"\",\n      connected: \"\"\n    });\n    setSearchInput(\"\");\n    // Reset the search state to hide results\n    setHasSearched(false);\n  }, []);\n  const handleSearchClick = () => {\n    // Trigger the search and apply the current search input to filters\n    setFilters(prev => ({\n      ...prev,\n      search: searchInput\n    }));\n    setHasSearched(true);\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 overflow-y-auto bg-black/60\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-screen items-start justify-center p-4 sm:p-6 md:p-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-slate-50 rounded-3xl shadow-2xl max-w-7xl w-full\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-slate-50/80 backdrop-blur-lg border-b border-slate-200 px-6 py-4 rounded-t-3xl z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-slate-900\",\n              children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              className: \"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4 max-h-[80vh] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl p-4 shadow-sm border border-slate-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 922,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E14\\u0E49\\u0E27\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D, \\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07, \\u0E2A\\u0E31\\u0E07\\u0E01\\u0E31\\u0E14, \\u0E23\\u0E38\\u0E48\\u0E19...\",\n                  value: searchInput,\n                  onChange: e => setSearchInput(e.target.value),\n                  onKeyDown: e => {\n                    if (e.key === 'Enter') handleSearchClick();\n                  } // Allow Enter key to search\n                  ,\n                  className: \"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSearchClick,\n                  className: \"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors\",\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 938,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 939,\n                    columnNumber: 22\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 934,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => onExport(filteredPersonnel),\n                  className: \"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl disabled:opacity-50\",\n                  disabled: !hasSearched || filteredPersonnel.length === 0,\n                  children: [/*#__PURE__*/_jsxDEV(Download, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 946,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Export (\", hasSearched ? filteredPersonnel.length : 0, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 22\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 941,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowFilters(!showFilters),\n                  className: `flex items-center space-x-2 px-4 py-2 border rounded-xl ${showFilters ? 'bg-indigo-50 border-indigo-200' : 'border-slate-200'}`,\n                  children: [/*#__PURE__*/_jsxDEV(Filter, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 22\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u0E15\\u0E31\\u0E27\\u0E01\\u0E23\\u0E2D\\u0E07\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 954,\n                    columnNumber: 22\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 949,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 15\n            }, this), hasSearched &&\n            /*#__PURE__*/\n            // Only show results count and clear button after a search\n            _jsxDEV(\"div\", {\n              className: \"mt-3 flex items-center justify-between text-sm text-slate-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u0E41\\u0E2A\\u0E14\\u0E07 \", filteredPersonnel.length, \" \\u0E08\\u0E32\\u0E01 \", personnelData.length, \" \\u0E04\\u0E19\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clearAllFilters,\n                className: \"text-indigo-600 hover:text-indigo-800 font-medium\",\n                children: \"\\u0E25\\u0E49\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FilterPanel, {\n            filters: filters,\n            onFiltersChange: handleFiltersChange,\n            stats: stats,\n            personnelData: personnelData,\n            isOpen: showFilters,\n            onToggle: () => setShowFilters(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 13\n          }, this), !hasSearched ?\n          /*#__PURE__*/\n          // Initial state before any search\n          _jsxDEV(\"div\", {\n            className: \"text-center py-16\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-16 h-16 text-slate-300 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-slate-900\",\n              children: \"\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E01\\u0E32\\u0E23\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-slate-600\",\n              children: \"\\u0E43\\u0E0A\\u0E49\\u0E41\\u0E16\\u0E1A\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E15\\u0E31\\u0E27\\u0E01\\u0E23\\u0E2D\\u0E07\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 981,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 17\n          }, this) : filteredPersonnel.length === 0 ?\n          /*#__PURE__*/\n          // State when search is done but no results are found\n          _jsxDEV(\"div\", {\n            className: \"text-center py-16\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-16 h-16 text-slate-300 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-slate-900\",\n              children: \"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-slate-600\",\n              children: \"\\u0E25\\u0E2D\\u0E07\\u0E1B\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E15\\u0E31\\u0E27\\u0E01\\u0E23\\u0E2D\\u0E07\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 18\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-fade-in-up\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n              children: filteredPersonnel.map((person, index) => /*#__PURE__*/_jsxDEV(PersonnelCard, {\n                person: person,\n                onView: onViewPerson\n              }, `${person.phone}-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 995,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 907,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-fade-in-up {\n          animation: fadeInUp 0.5s ease-out forwards;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1008,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 906,\n    columnNumber: 5\n  }, this);\n}, \"SG2Hwa5HSnAir9SXHycbLA2YZi8=\")), \"SG2Hwa5HSnAir9SXHycbLA2YZi8=\");\n\n// Main PersonnelPage Component\n// Main PersonnelPage Component\n// EditableCard Component\n_c18 = SearchModal;\nconst EditableCard = /*#__PURE__*/_s8(/*#__PURE__*/memo(_c19 = _s8(({\n  title,\n  value,\n  icon: Icon,\n  color = \"blue\",\n  isEditing,\n  onEdit,\n  onChange,\n  isAdmin\n}) => {\n  _s8();\n  const [localValue, setLocalValue] = useState(value);\n  useEffect(() => {\n    setLocalValue(value);\n  }, [value]);\n  const handleChange = e => {\n    const newValue = parseInt(e.target.value) || 0;\n    setLocalValue(newValue);\n    onChange(newValue);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-12 h-12 bg-${color}-100 rounded-xl flex items-center justify-center`,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          className: `w-6 h-6 text-${color}-600`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 9\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onEdit,\n        className: \"text-slate-400 hover:text-slate-600 transition-colors\",\n        children: isEditing ? /*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1055,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Edit2, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1057,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1050,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1045,\n      columnNumber: 7\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: localValue,\n      onChange: handleChange,\n      className: \"w-full text-3xl font-bold text-slate-900 mb-1 bg-slate-50 border border-slate-200 rounded px-2 py-1\",\n      min: \"0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-3xl font-bold text-slate-900 mb-1\",\n      children: localValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-slate-600\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1073,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1044,\n    columnNumber: 5\n  }, this);\n}, \"siqvZJUXZ0S/FBAatxcZmxDcLHI=\")), \"siqvZJUXZ0S/FBAatxcZmxDcLHI=\");\n_c20 = EditableCard;\nexport default function PersonnelPage({\n  user\n}) {\n  _s9();\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [personnelData, setPersonnelData] = useState([]);\n  const [selectedPerson, setSelectedPerson] = useState(null);\n  const [showDetail, setShowDetail] = useState(false);\n  const [showSearchModal, setShowSearchModal] = useState(false);\n  const [quota, setQuota] = useState(100);\n  const [vacancy, setVacancy] = useState(20);\n  const [isEditingQuota, setIsEditingQuota] = useState(false);\n  const [isEditingVacancy, setIsEditingVacancy] = useState(false);\n  const logAdminActivity = useCallback((action, details) => {\n    if (!user) return;\n    fetch(CONFIG.ADMIN_API, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        action: 'log_activity',\n        log_action: action,\n        log_details: details || null,\n        user_id: user.id,\n        username: user.username\n      })\n    }).catch(error => console.error('Failed to log activity:', error));\n  }, [user]);\n  const fetchPersonnelData = useCallback(async () => {\n    try {\n      const apiUrl = CONFIG.OFFICERS_API;\n      const response = await fetch(apiUrl);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const text = await response.text();\n      if (!text) throw new Error('Empty response from server');\n      const result = JSON.parse(text);\n      const data = result.success && Array.isArray(result.data) ? result.data : [];\n      const formattedData = data.map(person => ({\n        phone: person.phone || '',\n        prefix: person.prefix || '',\n        firstname: person.firstname || '',\n        lastname: person.lastname || '',\n        position: person.position || '',\n        affiliation: person.affiliation || '',\n        deph: person.department || '',\n        generation: person.generation || '',\n        email: person.email || '',\n        dob: person.dob || '',\n        lineUserId: person.lineUserId || '',\n        role: person.role || 'member'\n      }));\n      setPersonnelData(formattedData);\n      setError(\"\");\n    } catch (error) {\n      setError(`⚠️ ${error.message}`);\n      setPersonnelData([]);\n    }\n  }, []);\n  useEffect(() => {\n    fetchPersonnelData();\n  }, [fetchPersonnelData]);\n  const handleRefresh = () => {\n    setRefreshing(true);\n    fetchPersonnelData().finally(() => setRefreshing(false));\n  };\n  const handleViewPerson = person => {\n    setSelectedPerson(person);\n    setShowDetail(true);\n  };\n  const exportToCSV = data => {\n    // Implement CSV export logic here\n  };\n  const stats = useMemo(() => {\n    const newStats = {\n      total: personnelData.length,\n      connected: personnelData.filter(p => p.lineUserId).length,\n      byPosition: {},\n      byAffiliation: {},\n      byDepartment: {},\n      byGeneration: {}\n    };\n    personnelData.forEach(person => {\n      const position = person.position || 'ไม่ระบุ';\n      newStats.byPosition[position] = (newStats.byPosition[position] || 0) + 1;\n      const affiliation = person.affiliation || 'ไม่ระบุ';\n      newStats.byAffiliation[affiliation] = (newStats.byAffiliation[affiliation] || 0) + 1;\n      const department = person.deph || 'ไม่ระบุ';\n      newStats.byDepartment[department] = (newStats.byDepartment[department] || 0) + 1;\n      const generation = person.generation ? String(person.generation).trim() : 'ไม่ระบุ';\n      newStats.byGeneration[generation] = (newStats.byGeneration[generation] || 0) + 1;\n    });\n    return newStats;\n  }, [personnelData]);\n  const chartData = useMemo(() => {\n    const positionChartData = Object.entries(stats.byPosition).sort(([, a], [, b]) => b - a).slice(0, 8).map(([label, value]) => ({\n      label: truncatePosition(label) || label,\n      value\n    }));\n    const affiliationChartData = Object.entries(stats.byAffiliation).filter(([label]) => label !== 'ไม่ระบุ' && label.trim() !== '').map(([label, value]) => ({\n      label,\n      value\n    }));\n    const generationChartData = Object.entries(stats.byGeneration).filter(([gen]) => gen !== 'ไม่ระบุ' && gen.trim() !== '').map(([label, value]) => ({\n      label: `รุ่น ${label}`,\n      value\n    }));\n    return {\n      positionChartData,\n      affiliationChartData,\n      generationChartData\n    };\n  }, [stats]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-slate-800\",\n        children: \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowSearchModal(true),\n          className: \"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          disabled: refreshing,\n          className: \"p-2 border border-slate-200 text-slate-600 hover:bg-slate-50 rounded-xl disabled:opacity-50\",\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: `w-5 h-5 ${refreshing ? 'animate-spin' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1197,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border rounded-2xl p-4 flex items-start space-x-3 bg-red-50 border-red-200 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"w-5 h-5 flex-shrink-0 mt-0.5 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium text-red-800\",\n          children: \"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-700\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(EditableCard, {\n        title: \"\\u0E01\\u0E23\\u0E2D\\u0E1A\\u0E2D\\u0E31\\u0E15\\u0E23\\u0E32\",\n        value: quota,\n        icon: Briefcase,\n        color: \"blue\",\n        isEditing: isEditingQuota,\n        onEdit: () => setIsEditingQuota(!isEditingQuota),\n        onChange: value => setQuota(value),\n        isAdmin: (user === null || user === void 0 ? void 0 : user.role) === 'admin'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditableCard, {\n        title: \"\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07\\u0E27\\u0E48\\u0E32\\u0E07\",\n        value: vacancy,\n        icon: UserX,\n        color: \"red\",\n        isEditing: isEditingVacancy,\n        onEdit: () => setIsEditingVacancy(!isEditingVacancy),\n        onChange: value => setVacancy(value),\n        isAdmin: (user === null || user === void 0 ? void 0 : user.role) === 'admin'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E1A\\u0E38\\u0E04\\u0E25\\u0E32\\u0E01\\u0E23\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\",\n        value: stats.total,\n        icon: Users,\n        color: \"green\",\n        subtitle: \"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\\u0E43\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow border border-slate-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-slate-800 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            className: \"w-5 h-5 mr-2 text-indigo-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1260,\n            columnNumber: 13\n          }, this), \"\\u0E15\\u0E33\\u0E41\\u0E2B\\u0E19\\u0E48\\u0E07\\u0E22\\u0E2D\\u0E14\\u0E19\\u0E34\\u0E22\\u0E21\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: chartData.positionChartData.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-slate-700 font-medium\",\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-slate-600\",\n              children: [item.value, \" \\u0E04\\u0E19\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1266,\n              columnNumber: 17\n            }, this)]\n          }, item.label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1264,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow border border-slate-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-slate-800 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(PieChart, {\n            className: \"w-5 h-5 mr-2 text-pink-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1273,\n            columnNumber: 13\n          }, this), \"\\u0E2A\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E41\\u0E15\\u0E48\\u0E25\\u0E30\\u0E20\\u0E32\\u0E04\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: chartData.affiliationChartData.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-slate-700 font-medium\",\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-slate-600\",\n              children: [item.value, \" \\u0E04\\u0E19\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1279,\n              columnNumber: 17\n            }, this)]\n          }, item.label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1277,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonnelDetailModal, {\n      person: selectedPerson,\n      isOpen: showDetail,\n      onClose: () => setShowDetail(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchModal, {\n      isOpen: showSearchModal,\n      onClose: () => setShowSearchModal(false),\n      personnelData: personnelData,\n      stats: stats,\n      onViewPerson: handleViewPerson,\n      onExport: exportToCSV,\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1196,\n    columnNumber: 5\n  }, this);\n}\n_s9(PersonnelPage, \"g2aD+aEWChfGonaMFtzdKxFIjdE=\");\n_c21 = PersonnelPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n$RefreshReg$(_c, \"StatCard$memo\");\n$RefreshReg$(_c2, \"StatCard\");\n$RefreshReg$(_c3, \"TableChart$memo\");\n$RefreshReg$(_c4, \"TableChart\");\n$RefreshReg$(_c5, \"TreemapChart$memo\");\n$RefreshReg$(_c6, \"TreemapChart\");\n$RefreshReg$(_c7, \"PieChartComponent$memo\");\n$RefreshReg$(_c8, \"PieChartComponent\");\n$RefreshReg$(_c9, \"HorizontalBarChart$memo\");\n$RefreshReg$(_c0, \"HorizontalBarChart\");\n$RefreshReg$(_c1, \"BarChart$memo\");\n$RefreshReg$(_c10, \"BarChart\");\n$RefreshReg$(_c11, \"PersonnelCard$memo\");\n$RefreshReg$(_c12, \"PersonnelCard\");\n$RefreshReg$(_c13, \"FilterPanel$memo\");\n$RefreshReg$(_c14, \"FilterPanel\");\n$RefreshReg$(_c15, \"PersonnelDetailModal$memo\");\n$RefreshReg$(_c16, \"PersonnelDetailModal\");\n$RefreshReg$(_c17, \"SearchModal$memo\");\n$RefreshReg$(_c18, \"SearchModal\");\n$RefreshReg$(_c19, \"EditableCard$memo\");\n$RefreshReg$(_c20, \"EditableCard\");\n$RefreshReg$(_c21, \"PersonnelPage\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useCallback","memo","Search","Filter","Users","Phone","Mail","Calendar","Award","Building2","UserCheck","UserX","TrendingUp","PieChart","BarChart3","Download","RefreshCw","Eye","Grid3X3","List","X","AlertCircle","CheckCircle2","Clock","Briefcase","GraduationCap","Edit2","Save","CONFIG","jsxDEV","_jsxDEV","StatCard","_c","title","value","icon","Icon","color","trend","subtitle","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","TableChart","_s","_c3","data","colors","total","reduce","sum","d","slice","map","item","index","percentage","toFixed","length","style","backgroundColor","label","_c4","truncatePosition","position","removePatterns","result","pattern","replace","RegExp","trim","truncateAffiliation","affiliation","TreemapChart","_s2","_c5","originalTotal","scaledData","scaledValue","Math","log1p","generateTreemapLayout","items","width","height","rects","layoutRow","rowItems","x","y","w","h","totalValue","i","offset","isHorizontal","rectWidth","push","rectHeight","squarify","halfValue","runningTotal","splitIndex","max","groupA","groupB","groupATotal","groupAWidth","groupAHeight","layout","rect","itemIndex","findIndex","valueText","fontSize","min","textShadowStyle","textShadow","left","top","transition","_c6","PieChartComponent","_s3","_c7","viewBox","angle","prevPercentage","startAngle","endAngle","outerRadius","innerRadius","startXOuter","cos","PI","startYOuter","sin","endXOuter","endYOuter","startXInner","startYInner","endXInner","endYInner","largeArcFlag","pathData","join","pieColors","midAngle","labelRadius","labelX","labelY","percentageText","fill","stroke","strokeWidth","textAnchor","dominantBaseline","fontWeight","paintOrder","_c8","HorizontalBarChart","_s4","_c9","getSortOrder","regionMatch","match","parseInt","customOrder","includes","sortedData","sort","a","b","maxValue","barWidth","minWidth","_c0","BarChart","_s5","_c1","_c10","PersonnelCard","_c11","person","onView","_person$firstname","onClick","firstname","charAt","prefix","lastname","generation","phone","dob","_c12","FilterPanel","_s6","_c13","filters","onFiltersChange","stats","personnelData","isOpen","onToggle","departmentOptions","Object","entries","byDepartment","localeCompare","personnelInAffiliation","filter","p","departmentsInAffiliation","acc","dept","deph","sortedAffiliations","byAffiliation","sortedPositions","byPosition","onChange","e","target","count","disabled","byGeneration","connected","values","v","search","_c14","PersonnelDetailModal","_c15","onClose","_person$firstname2","email","_c16","SearchModal","_s7","_c17","onViewPerson","onExport","user","searchInput","setSearchInput","debouncedSearch","setDebouncedSearch","showFilters","setShowFilters","hasSearched","setHasSearched","setFilters","timer","setTimeout","clearTimeout","prev","filteredPersonnel","searchTerm","toLowerCase","searchableFields","toString","searchableText","Boolean","String","handleFiltersChange","newFilters","clearAllFilters","handleSearchClick","type","placeholder","onKeyDown","key","_c18","EditableCard","_s8","_c19","isEditing","onEdit","isAdmin","localValue","setLocalValue","handleChange","newValue","_c20","PersonnelPage","_s9","loading","setLoading","refreshing","setRefreshing","error","setError","setPersonnelData","selectedPerson","setSelectedPerson","showDetail","setShowDetail","showSearchModal","setShowSearchModal","quota","setQuota","vacancy","setVacancy","isEditingQuota","setIsEditingQuota","isEditingVacancy","setIsEditingVacancy","logAdminActivity","action","details","fetch","ADMIN_API","method","headers","body","JSON","stringify","log_action","log_details","user_id","id","username","catch","console","fetchPersonnelData","apiUrl","OFFICERS_API","response","ok","Error","status","text","parse","success","Array","isArray","formattedData","department","lineUserId","role","message","handleRefresh","finally","handleViewPerson","exportToCSV","newStats","forEach","chartData","positionChartData","affiliationChartData","generationChartData","gen","_c21","$RefreshReg$"],"sources":["C:/Users/LENOVO/Documents/GitHub/court-marshal-connect/src/pages/PersonnelPage.js"],"sourcesContent":["import React, { useEffect, useState, useMemo, useCallback, memo } from \"react\";\r\nimport { \r\n  Search, \r\n  Filter, \r\n  Users, \r\n  Phone, \r\n  Mail, \r\n  Calendar,\r\n  Award,\r\n  Building2,\r\n  UserCheck,\r\n  UserX,\r\n  TrendingUp,\r\n  PieChart,\r\n  BarChart3,\r\n  Download,\r\n  RefreshCw,\r\n  Eye,\r\n  Grid3X3,\r\n  List,\r\n  X,\r\n  AlertCircle,\r\n  CheckCircle2,\r\n  Clock,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Edit2,\r\n  Save\r\n} from \"lucide-react\";\r\nimport { CONFIG } from '../config';\r\n\r\n\r\n\r\n// StatCard Component\r\nconst StatCard = memo(({ title, value, icon: Icon, color = \"blue\", trend, subtitle }) => (\r\n  <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n    <div className=\"flex items-center justify-between mb-2\">\r\n      <div className={`w-12 h-12 bg-${color}-100 rounded-xl flex items-center justify-center`}>\r\n        <Icon className={`w-6 h-6 text-${color}-600`} />\r\n      </div>\r\n      {trend && (\r\n        <div className=\"flex items-center text-green-600 text-sm\">\r\n          <TrendingUp className=\"w-4 h-4 mr-1\" />\r\n          <span>{trend}%</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n    <div className=\"text-3xl font-bold text-slate-900 mb-1\">{value}</div>\r\n    <div className=\"text-sm text-slate-600\">{title}</div>\r\n    {subtitle && (\r\n      <div className=\"text-xs text-slate-500 mt-1\">{subtitle}</div>\r\n    )}\r\n  </div>\r\n));\r\n\r\n// Table Chart Component (สำหรับแสดงข้อมูลตำแหน่งแบบตาราง)\r\nconst TableChart = memo(({ title, data, colors = [] }) => {\r\n  const total = useMemo(() => data.reduce((sum, d) => sum + d.value, 0), [data]);\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n      <h3 className=\"text-lg font-semibold text-slate-900 mb-4 flex items-center\">\r\n        <BarChart3 className=\"w-5 h-5 mr-2 text-slate-400\" />\r\n        {title}\r\n      </h3>\r\n      <div className=\"space-y-3\">\r\n        <div className=\"text-center mb-4\">\r\n          <div className=\"text-2xl font-bold text-slate-900\">{total}</div>\r\n          <div className=\"text-sm text-slate-500\">ทั้งหมด</div>\r\n        </div>\r\n        \r\n        <div className=\"grid gap-2\">\r\n          {data.slice(0, 8).map((item, index) => {\r\n            const percentage = ((item.value / total) * 100).toFixed(1);\r\n            const color = colors[index % colors.length] || '#6366f1';\r\n            \r\n            return (\r\n              <div key={`${item.label}-${index}`} className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\r\n                <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\r\n                  <div \r\n                    className=\"w-4 h-4 rounded-sm flex-shrink-0\"\r\n                    style={{ backgroundColor: color }}\r\n                  />\r\n                  <span className=\"text-sm text-slate-700 font-medium truncate\" title={item.label}>\r\n                    {item.label}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2 text-right\">\r\n                  <div className=\"text-sm font-bold text-slate-900\">{item.value}</div>\r\n                  <div className=\"text-xs text-slate-500\">{percentage}%</div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Function สำหรับตัดคำยาว\r\nconst truncatePosition = (position) => {\r\n  if (!position) return '';\r\n  \r\n  const removePatterns = [\r\n    'เจ้าพนักงานตำรวจศาล',\r\n    'ตำรวจศาล',\r\n    'ตำรวจ',\r\n    'พนักงาน'\r\n  ];\r\n  \r\n  let result = position;\r\n  for (const pattern of removePatterns) {\r\n    result = result.replace(new RegExp(pattern, 'gi'), '');\r\n  }\r\n  \r\n  return result.trim() || position;\r\n};\r\n\r\n// Function สำหรับตัดคำ \"ศาล\" ออกจากสังกัด\r\nconst truncateAffiliation = (affiliation) => {\r\n  if (!affiliation) return '';\r\n  return affiliation.replace(/ศาล/gi, '').trim() || affiliation;\r\n};\r\n\r\n// --- NEW: Proportional Treemap Chart Component ---\r\n// --- NEW: Proportional Treemap Chart Component (MODIFIED FOR LOGARITHMIC SCALE) ---\r\nconst TreemapChart = memo(({ title, data, colors = [] }) => {\r\n  // --- ส่วนที่แก้ไข: คำนวณ total จากค่าจริงก่อนแปลงสเกล ---\r\n  const originalTotal = useMemo(() => data.reduce((sum, d) => sum + d.value, 0), [data]);\r\n\r\n  // --- ส่วนที่แก้ไข: สร้างข้อมูลชุดใหม่ที่มีการปรับสเกลด้วย Math.log1p ---\r\n  // Math.log1p(x) จะคำนวณ log(1+x) ช่วยให้ค่าที่น้อยๆ มีขนาดใหญ่ขึ้นเมื่อเทียบกับค่ามากๆ\r\n  const scaledData = useMemo(() => data.map(item => ({\r\n    ...item,\r\n    scaledValue: Math.log1p(item.value) \r\n  })), [data]);\r\n\r\n  const generateTreemapLayout = useCallback((items, width, height) => {\r\n    let rects = [];\r\n    const layoutRow = (rowItems, x, y, w, h) => {\r\n      if (!rowItems.length) return;\r\n      // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\r\n      const totalValue = rowItems.reduce((sum, i) => sum + i.scaledValue, 0);\r\n      if (totalValue === 0) return;\r\n      let offset = 0;\r\n      const isHorizontal = w > h;\r\n      for (const item of rowItems) {\r\n        // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\r\n        const percentage = item.scaledValue / totalValue;\r\n        if (isHorizontal) {\r\n          const rectWidth = w * percentage;\r\n          rects.push({ x: x + offset, y, width: rectWidth, height: h, item });\r\n          offset += rectWidth;\r\n        } else {\r\n          const rectHeight = h * percentage;\r\n          rects.push({ x, y: y + offset, width: w, height: rectHeight, item });\r\n          offset += rectHeight;\r\n        }\r\n      }\r\n    };\r\n    const squarify = (items, x, y, w, h) => {\r\n      if (!items.length) return;\r\n      if (items.length <= 4) {\r\n        layoutRow(items, x, y, w, h);\r\n        return;\r\n      }\r\n      // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\r\n      const halfValue = items.reduce((sum, i) => sum + i.scaledValue, 0) / 2;\r\n      let runningTotal = 0;\r\n      let splitIndex = 0;\r\n      for (let i = 0; i < items.length; i++) {\r\n        // --- ส่วนที่แก้ไข: ใช้ scaledValue ในการคำนวณสัดส่วน ---\r\n        runningTotal += items[i].scaledValue;\r\n        if (runningTotal >= halfValue) {\r\n          splitIndex = i + 1;\r\n          break;\r\n        }\r\n      }\r\n      splitIndex = Math.max(1, splitIndex);\r\n      const groupA = items.slice(0, splitIndex);\r\n      const groupB = items.slice(splitIndex);\r\n      const groupATotal = groupA.reduce((sum, i) => sum + i.scaledValue, 0);\r\n      const totalValue = groupATotal + (groupB.reduce((sum, i) => sum + i.scaledValue, 0));\r\n\r\n      if (totalValue === 0) return;\r\n      if (w > h) {\r\n        const groupAWidth = w * (groupATotal / totalValue);\r\n        squarify(groupA, x, y, groupAWidth, h);\r\n        squarify(groupB, x + groupAWidth, y, w - groupAWidth, h);\r\n      } else {\r\n        const groupAHeight = h * (groupATotal / totalValue);\r\n        squarify(groupA, x, y, w, groupAHeight);\r\n        squarify(groupB, x, y + groupAHeight, w, h - groupAHeight);\r\n      }\r\n    };\r\n    squarify(items, 0, 0, 1000, 1000); // Use a relative base for layout\r\n    return rects;\r\n  }, []);\r\n\r\n  // --- ส่วนที่แก้ไข: ส่ง scaledData เข้าไปคำนวณ layout ---\r\n  const layout = useMemo(() => generateTreemapLayout(scaledData), [scaledData, generateTreemapLayout]);\r\n\r\n  if (!data.length || originalTotal === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 h-full\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900 mb-4 flex items-center\"><BarChart3 className=\"w-5 h-5 mr-2 text-slate-400\" />{title}</h3>\r\n        <div className=\"text-center py-8\"><p className=\"text-slate-500\">ไม่มีข้อมูลสำหรับแสดงกราฟ</p></div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 flex flex-col h-full\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900 flex items-center\">\r\n          <BarChart3 className=\"w-5 h-5 mr-2 text-slate-400\" />{title}\r\n        </h3>\r\n        <div className=\"text-right\">\r\n          {/* --- ส่วนที่แก้ไข: แสดงผลรวมจากค่าจริง --- */}\r\n          <div className=\"text-lg font-bold text-slate-900\">{originalTotal}</div>\r\n          <div className=\"text-xs text-slate-500\">ทั้งหมด</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"relative w-full flex-1\">\r\n        {layout.map((rect) => {\r\n          const itemIndex = scaledData.findIndex(d => d.label === rect.item.label);\r\n          const color = colors[itemIndex % colors.length];\r\n          \r\n          // --- ส่วนที่แก้ไข: คำนวณ % จากค่าจริง ---\r\n          const percentage = originalTotal > 0 ? ((rect.item.value / originalTotal) * 100).toFixed(1) : 0;\r\n          const valueText = `${rect.item.value} (${percentage}%)`;\r\n          const fontSize = Math.min(rect.width / 10, rect.height / 5, 16);\r\n          const textShadowStyle = { textShadow: '0px 1px 3px rgba(0, 0, 0, 0.6)' };\r\n\r\n          return (\r\n            <div\r\n              key={rect.item.label}\r\n              className=\"absolute border-2 border-white rounded-md flex flex-col items-center justify-center p-1 overflow-hidden text-center\"\r\n              style={{\r\n                left: `${rect.x / 10}%`, top: `${rect.y / 10}%`, width: `${rect.width / 10}%`, height: `${rect.height / 10}%`,\r\n                backgroundColor: color, transition: 'all 0.4s ease-in-out'\r\n              }}\r\n            >\r\n              <div className=\"text-white font-bold\" style={{ fontSize: `${fontSize}px`, ...textShadowStyle }}>\r\n                {valueText}\r\n              </div>\r\n              <div className=\"text-white opacity-90 leading-tight\" style={{ fontSize: `${Math.max(fontSize * 0.7, 10)}px`, ...textShadowStyle }}>\r\n                {rect.item.label}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Pie Chart Component - เปลี่ยนเป็น Donut Chart\r\nconst PieChartComponent = memo(({ title, data, colors = [] }) => {\r\n  const total = useMemo(() => data.reduce((sum, d) => sum + d.value, 0), [data]);\r\n  \r\n  if (!data.length || total === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900 mb-4 flex items-center\">\r\n          <PieChart className=\"w-5 h-5 mr-2 text-slate-400\" />\r\n          {title}\r\n        </h3>\r\n        <div className=\"text-center py-8\">\r\n          <p className=\"text-slate-500\">ไม่มีข้อมูลสำหรับแสดงกราฟ</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 h-fit\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900 flex items-center\">\r\n          <PieChart className=\"w-5 h-5 mr-2 text-slate-400\" />\r\n          {title}\r\n        </h3>\r\n        <div className=\"text-right\">\r\n          <div className=\"text-lg font-bold text-slate-900\">จำนวน {total} คน</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"relative border border-slate-200 rounded-lg p-4 bg-slate-50\">\r\n        <div className=\"flex flex-col items-center\">\r\n          {/* Donut Chart */}\r\n          <div className=\"relative w-48 h-48\">\r\n            <svg width=\"192\" height=\"192\" viewBox=\"0 0 192 192\" className=\"w-full h-full\">\r\n              {data.map((item, index) => {\r\n                const percentage = item.value / total;\r\n                const angle = percentage * 360;\r\n                \r\n                const prevPercentage = data.slice(0, index).reduce((sum, d) => sum + d.value, 0) / total;\r\n                const startAngle = prevPercentage * 360 - 90;\r\n                const endAngle = startAngle + angle;\r\n                \r\n                // Donut chart - outer radius 80, inner radius 45\r\n                const outerRadius = 80;\r\n                const innerRadius = 45;\r\n                \r\n                const startXOuter = 96 + outerRadius * Math.cos((startAngle * Math.PI) / 180);\r\n                const startYOuter = 96 + outerRadius * Math.sin((startAngle * Math.PI) / 180);\r\n                const endXOuter = 96 + outerRadius * Math.cos((endAngle * Math.PI) / 180);\r\n                const endYOuter = 96 + outerRadius * Math.sin((endAngle * Math.PI) / 180);\r\n                \r\n                const startXInner = 96 + innerRadius * Math.cos((endAngle * Math.PI) / 180);\r\n                const startYInner = 96 + innerRadius * Math.sin((endAngle * Math.PI) / 180);\r\n                const endXInner = 96 + innerRadius * Math.cos((startAngle * Math.PI) / 180);\r\n                const endYInner = 96 + innerRadius * Math.sin((startAngle * Math.PI) / 180);\r\n                \r\n                const largeArcFlag = angle > 180 ? 1 : 0;\r\n                \r\n                const pathData = [\r\n                  'M', startXOuter, startYOuter,\r\n                  'A', outerRadius, outerRadius, 0, largeArcFlag, 1, endXOuter, endYOuter,\r\n                  'L', startXInner, startYInner,\r\n                  'A', innerRadius, innerRadius, 0, largeArcFlag, 0, endXInner, endYInner,\r\n                  'Z'\r\n                ].join(' ');\r\n                \r\n                const pieColors = [\r\n                  '#8b5cf6', '#ec4899', '#06b6d4', '#10b981', '#f59e0b', \r\n                  '#ef4444', '#84cc16', '#6366f1', '#f97316', '#14b8a6'\r\n                ];\r\n                const color = pieColors[index % pieColors.length];\r\n                \r\n                // คำนวณตำแหน่งสำหรับแสดง percentage\r\n                const midAngle = startAngle + (angle / 2);\r\n                const labelRadius = 90;\r\n                const labelX = 96 + labelRadius * Math.cos((midAngle * Math.PI) / 180);\r\n                const labelY = 96 + labelRadius * Math.sin((midAngle * Math.PI) / 180);\r\n                const percentageText = `${(percentage * 100).toFixed(1)}%`;\r\n                \r\n                return (\r\n                  <g key={`donut-${index}`}>\r\n                    <path\r\n                      d={pathData}\r\n                      fill={color}\r\n                      stroke=\"white\"\r\n                      strokeWidth=\"2\"\r\n                    />\r\n                    {/* แสดง percentage ที่ขอบวงกลม */}\r\n                    {percentage > 0.05 && (\r\n                      <text\r\n                        x={labelX}\r\n                        y={labelY}\r\n                        textAnchor=\"middle\"\r\n                        dominantBaseline=\"middle\"\r\n                        fill=\"#1e293b\"\r\n                        fontSize=\"10\"\r\n                        fontWeight=\"bold\"\r\n                        stroke=\"white\"\r\n                        strokeWidth=\"2\"\r\n                        paintOrder=\"stroke\"\r\n                      >\r\n                        {percentageText}\r\n                      </text>\r\n                    )}\r\n                  </g>\r\n                );\r\n              })}\r\n            </svg>\r\n          </div>\r\n          \r\n          {/* Legend */}\r\n          <div className=\"w-full mt-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2\">\r\n              {data.map((item, index) => {\r\n                const percentage = ((item.value / total) * 100).toFixed(0);\r\n                const pieColors = [\r\n                  '#8b5cf6', '#ec4899', '#06b6d4', '#10b981', '#f59e0b', \r\n                  '#ef4444', '#84cc16', '#6366f1', '#f97316', '#14b8a6'\r\n                ];\r\n                const color = pieColors[index % pieColors.length];\r\n                \r\n                return (\r\n                  <div key={`legend-${item.label}-${index}`} className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-2 min-w-0 flex-1\">\r\n                      <div \r\n                        className=\"w-3 h-3 rounded-full flex-shrink-0\"\r\n                        style={{ backgroundColor: color }}\r\n                      />\r\n                      <span className=\"text-sm text-slate-700\">\r\n                        {truncateAffiliation(item.label)} <span className=\"font-bold text-slate-900\">{item.value}</span> คน\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-sm font-bold text-slate-900 ml-2\">{percentage}%</div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Paste this code right after the PieChartComponent code block\r\n\r\n// Horizontal Bar Chart Component\r\n// Horizontal Bar Chart Component\r\nconst HorizontalBarChart = memo(({ title, data, colors = [] }) => {\r\n  \r\n  const getSortOrder = (label) => {\r\n    const regionMatch = label.match(/ภาค\\s*(\\d+)/);\r\n    if (regionMatch) return parseInt(regionMatch[1]);\r\n    const customOrder = ['ศาลชั้นต้นในเขตกรุงเทพมหานคร', 'ศูนย์รักษาความปลอดภัย', 'ศาลชำนาญพิเศษ', 'ศาลสูง'];\r\n    const index = customOrder.findIndex(item => label.includes(item));\r\n    if (index !== -1) return 100 + index;\r\n    return 999;\r\n  };\r\n\r\n  const sortedData = useMemo(() => \r\n    [...data].sort((a, b) => getSortOrder(a.label) - getSortOrder(b.label)), \r\n    [data]\r\n  );\r\n  \r\n  const maxValue = useMemo(() => {\r\n    if (!sortedData || sortedData.length === 0) return 0;\r\n    return Math.max(...sortedData.map(d => d.value));\r\n  }, [sortedData]);\r\n\r\n  if (!sortedData.length || maxValue === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900 mb-4 flex items-center\"><BarChart3 className=\"w-5 h-5 mr-2 text-slate-400\" />{title}</h3>\r\n        <div className=\"text-center py-8\"><p className=\"text-slate-500\">ไม่มีข้อมูลสำหรับแสดงกราฟ</p></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n      <h3 className=\"text-lg font-semibold text-slate-900 mb-4 flex items-center\"><BarChart3 className=\"w-5 h-5 mr-2 text-slate-400\" />{title}</h3>\r\n      <div className=\"space-y-3\">\r\n        {data.map((item, index) => {\r\n          const barWidth = (item.value / maxValue) * 100;\r\n          const color = colors[index % colors.length] || '#8b5cf6';\r\n          \r\n          return (\r\n            <div key={`${item.label}-${index}`} className=\"grid grid-cols-3 gap-2 items-center\">\r\n              {/* Left Column for Full Label (CHANGED to text-left) */}\r\n              <div className=\"col-span-1 text-sm text-slate-700 font-medium text-left\" title={item.label}>\r\n                {item.label}\r\n              </div>\r\n              \r\n              {/* Right Column for Bar */}\r\n              <div className=\"col-span-2 w-full bg-slate-100 rounded-full h-7 relative\">\r\n                <div\r\n                  className=\"h-7 rounded-full transition-all duration-700 flex items-center justify-end pr-3\"\r\n                  style={{\r\n                    width: `${barWidth}%`, backgroundColor: color, minWidth: '40px'\r\n                  }}\r\n                >\r\n                   <span className=\"text-white text-sm font-bold\">{item.value}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Bar Chart Component\r\nconst BarChart = memo(({ title, data, colors = [] }) => {\r\n  const maxValue = useMemo(() => Math.max(...data.map(d => d.value)), [data]);\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n      <h3 className=\"text-lg font-semibold text-slate-900 mb-4 flex items-center\">\r\n        <BarChart3 className=\"w-5 h-5 mr-2 text-slate-400\" />\r\n        {title}\r\n      </h3>\r\n      <div className=\"h-48 flex items-end justify-between space-x-1\">\r\n        {data.slice(0, 8).map((item, index) => {\r\n          const height = (item.value / maxValue) * 100;\r\n          const color = colors[index % colors.length] || '#6366f1';\r\n          \r\n          return (\r\n            <div key={`bar-${item.label}-${index}`} className=\"flex-1 flex flex-col items-center max-w-[60px]\">\r\n              <div className=\"relative w-full bg-slate-100 rounded-t-lg overflow-hidden\" style={{ height: '160px' }}>\r\n                <div \r\n                  className=\"absolute bottom-0 w-full rounded-t-lg transition-all duration-700 flex items-end justify-center pb-1\"\r\n                  style={{ \r\n                    height: `${height}%`,\r\n                    backgroundColor: color\r\n                  }}\r\n                >\r\n                  <span className=\"text-white text-xs font-medium\">\r\n                    {item.value}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-xs text-slate-600 mt-2 text-center truncate w-full\" title={item.label}>\r\n                {item.label.length > 8 ? item.label.slice(0, 8) + '...' : item.label}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Personnel Card Component (MODIFIED)\r\nconst PersonnelCard = memo(({ person, onView }) => (\r\n  <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-200 hover:shadow-lg transition-shadow duration-200 group relative\">\r\n    <button\r\n      onClick={() => onView(person)}\r\n      className=\"absolute top-3 right-3 p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100 focus:outline-none\"\r\n      title=\"ดูรายละเอียด\"\r\n    >\r\n      <Eye className=\"w-4 h-4\" />\r\n    </button>\r\n\r\n    <div className=\"flex items-start space-x-3 mb-3 pr-8\">\r\n      <div className=\"w-12 h-12 flex-shrink-0 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center\">\r\n        <span className=\"text-white text-sm font-bold\">\r\n          {person.firstname?.charAt(0) || \"?\"}\r\n        </span>\r\n      </div>\r\n      <div className=\"min-w-0 flex-1\">\r\n        <h3 className=\"text-sm font-semibold text-slate-900 truncate\">\r\n          {person.prefix} {person.firstname} {person.lastname}\r\n        </h3>\r\n        <p className=\"text-slate-600 text-xs truncate\">{person.position || 'ไม่ระบุตำแหน่ง'}</p>\r\n        {person.generation && (\r\n          <span className=\"inline-flex mt-1 px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-700\">\r\n            รุ่น {person.generation}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"space-y-2 text-xs\">\r\n      {person.affiliation && (\r\n        <div className=\"flex items-center text-slate-600\">\r\n          <Building2 className=\"w-3 h-3 mr-1.5 flex-shrink-0\" />\r\n          <span className=\"truncate\">{person.affiliation}</span>\r\n        </div>\r\n      )}\r\n      \r\n      {person.phone && (\r\n        <div className=\"flex items-center text-slate-600\">\r\n          <Phone className=\"w-3 h-3 mr-1.5 flex-shrink-0\" />\r\n          <span>{person.phone}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* --- ADDED: Display Birthday on Card --- */}\r\n      {person.dob && (\r\n        <div className=\"flex items-center text-slate-600\">\r\n          <Calendar className=\"w-3 h-3 mr-1.5 flex-shrink-0\" />\r\n          <span>{person.dob}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  </div>\r\n));\r\n\r\n// Filter Panel Component\r\n// Filter Panel Component (MODIFIED)\r\nconst FilterPanel = memo(({ filters, onFiltersChange, stats, personnelData, isOpen, onToggle }) => {\r\n  // --- MODIFIED: Logic for dynamic department options ---\r\n  const departmentOptions = useMemo(() => {\r\n    // If no affiliation is selected, show all departments from stats\r\n    if (!filters.affiliation) {\r\n      return Object.entries(stats.byDepartment).sort(([a], [b]) => a.localeCompare(b));\r\n    }\r\n\r\n    // If an affiliation IS selected, filter personnel to find departments within it\r\n    const personnelInAffiliation = personnelData.filter(p => p.affiliation === filters.affiliation);\r\n    \r\n    const departmentsInAffiliation = personnelInAffiliation.reduce((acc, person) => {\r\n      const dept = person.deph || 'ไม่ระบุ';\r\n      acc[dept] = (acc[dept] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n\r\n    return Object.entries(departmentsInAffiliation).sort(([a], [b]) => a.localeCompare(b));\r\n  }, [filters.affiliation, personnelData, stats.byDepartment]);\r\n\r\n  const sortedAffiliations = useMemo(() => \r\n    Object.entries(stats.byAffiliation).sort(([a], [b]) => a.localeCompare(b)),\r\n    [stats.byAffiliation]\r\n  );\r\n\r\n  const sortedPositions = useMemo(() => \r\n    Object.entries(stats.byPosition).sort(([a], [b]) => a.localeCompare(b)),\r\n    [stats.byPosition]\r\n  );\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900\">ตัวกรอง</h3>\r\n        <button onClick={onToggle} className=\"text-slate-400 hover:text-slate-600\">\r\n          <X className=\"w-5 h-5\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        {/* ตำแหน่ง Dropdown */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">ตำแหน่ง</label>\r\n          <select\r\n            value={filters.position}\r\n            onChange={(e) => onFiltersChange({ ...filters, position: e.target.value })}\r\n            className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\"\r\n          >\r\n            <option value=\"\">ทั้งหมด</option>\r\n            {sortedPositions.map(([position, count]) => (\r\n              <option key={position} value={position}>\r\n                {position} ({count})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* สังกัด Dropdown */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">สังกัด</label>\r\n          <select\r\n            value={filters.affiliation}\r\n            onChange={(e) => onFiltersChange({ ...filters, affiliation: e.target.value, deph: '' })}\r\n            className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\"\r\n          >\r\n            <option value=\"\">ทั้งหมด</option>\r\n            {sortedAffiliations.map(([affiliation, count]) => (\r\n              <option key={affiliation} value={affiliation}>\r\n                {affiliation} ({count})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* หน่วยงาน Dropdown (Now correctly filtered) */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">หน่วยงาน</label>\r\n          <select\r\n            value={filters.deph}\r\n            onChange={(e) => onFiltersChange({ ...filters, deph: e.target.value })}\r\n            className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\"\r\n            disabled={!filters.affiliation} // Disabled if no affiliation is selected\r\n          >\r\n            <option value=\"\">ทั้งหมด</option>\r\n            {departmentOptions.map(([dept, count]) => (\r\n              <option key={dept} value={dept}>\r\n                {dept} ({count})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* รุ่น Dropdown */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">รุ่น</label>\r\n          <select\r\n            value={filters.generation}\r\n            onChange={(e) => onFiltersChange({ ...filters, generation: e.target.value })}\r\n            className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\"\r\n          >\r\n            <option value=\"\">ทั้งหมด</option>\r\n            {Object.entries(stats.byGeneration)\r\n              .sort(([a], [b]) => (parseInt(a) || 0) - (parseInt(b) || 0))\r\n              .map(([generation, count]) => (\r\n                <option key={generation} value={generation}>\r\n                  รุ่น {generation} ({count} คน)\r\n                </option>\r\n              ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* สถานะการเชื่อมต่อ Dropdown */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">สถานะการเชื่อมต่อ</label>\r\n          <select\r\n            value={filters.connected}\r\n            onChange={(e) => onFiltersChange({ ...filters, connected: e.target.value })}\r\n            className=\"w-full p-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\"\r\n          >\r\n            <option value=\"\">ทั้งหมด</option>\r\n            <option value=\"true\">เชื่อมต่อแล้ว</option>\r\n            <option value=\"false\">ยังไม่เชื่อมต่อ</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-slate-200\">\r\n        <div className=\"text-sm text-slate-600\">\r\n          พบ {Object.values(filters).filter(v => v && v !== filters.search).length} ตัวกรองที่ใช้งาน\r\n        </div>\r\n        <button\r\n          onClick={() => onFiltersChange({ position: '', affiliation: '', deph: '', generation: '', connected: '', search: filters.search })}\r\n          className=\"text-sm text-indigo-600 hover:text-indigo-800 font-medium\"\r\n        >\r\n          ล้างตัวกรองทั้งหมด\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\n// Detail Modal Component (MODIFIED)\r\nconst PersonnelDetailModal = memo(({ person, isOpen, onClose }) => {\r\n  if (!isOpen || !person) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex min-h-screen items-center justify-center p-4\">\r\n        <div className=\"fixed inset-0 bg-black/50 transition-opacity\" onClick={onClose} />\r\n        \r\n        <div className=\"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n          <div className=\"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 rounded-t-3xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-xl font-semibold text-slate-900\">รายละเอียดบุคลากร</h2>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center space-x-6 mb-6 p-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl text-white\">\r\n              <div className=\"w-20 h-20 bg-white/20 rounded-2xl flex items-center justify-center\">\r\n                <span className=\"text-2xl font-bold\">\r\n                  {person.firstname?.charAt(0) || \"?\"}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-2xl font-bold mb-1\">\r\n                  {person.prefix} {person.firstname} {person.lastname}\r\n                </h3>\r\n                <p className=\"text-white/90 mb-2\">{person.position || 'ไม่ระบุตำแหน่ง'}</p>\r\n                <div className=\"flex items-center space-x-4 text-sm\">\r\n                  \r\n                  {/* --- REMOVED: Connection status span was here --- */}\r\n                  \r\n                  {person.generation && (\r\n                    <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-400/20 text-blue-100\">\r\n                      <GraduationCap className=\"w-3 h-3 mr-1\" />\r\n                      รุ่น {person.generation}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <h4 className=\"font-semibold text-slate-900 flex items-center\">\r\n                  <Users className=\"w-4 h-4 mr-2\" />\r\n                  ข้อมูลส่วนตัว\r\n                </h4>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  {[\r\n                    { label: 'คำนำหน้า', value: person.prefix },\r\n                    { label: 'ชื่อ', value: person.firstname },\r\n                    { label: 'นามสกุล', value: person.lastname },\r\n                    { label: 'วันเกิด', value: person.dob },\r\n                    { label: 'เบอร์โทรศัพท์', value: person.phone, icon: Phone },\r\n                    { label: 'อีเมล', value: person.email, icon: Mail },\r\n                  ].map((item, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0\">\r\n                      <div className=\"flex items-center text-slate-600\">\r\n                        {item.icon && <item.icon className=\"w-4 h-4 mr-2\" />}\r\n                        <span className=\"text-sm\">{item.label}</span>\r\n                      </div>\r\n                      <span className=\"text-slate-900 font-medium text-right max-w-[60%] break-words\">\r\n                        {item.value || '-'}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <h4 className=\"font-semibold text-slate-900 flex items-center\">\r\n                  <Building2 className=\"w-4 h-4 mr-2\" />\r\n                  ข้อมูลการทำงาน\r\n                </h4>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  {[\r\n                    { label: 'ตำแหน่ง', value: person.position, icon: Award },\r\n                    { label: 'สังกัด', value: person.affiliation, icon: Building2 },\r\n                    { label: 'หน่วยงาน/ส่วนงาน', value: person.deph, icon: Briefcase },\r\n                    { label: 'รุ่น', value: person.generation, icon: GraduationCap },\r\n                  ].map((item, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0\">\r\n                      <div className=\"flex items-center text-slate-600\">\r\n                        {item.icon && <item.icon className=\"w-4 h-4 mr-2\" />}\r\n                        <span className=\"text-sm\">{item.label}</span>\r\n                      </div>\r\n                      <span className=\"text-slate-900 font-medium text-right max-w-[60%] break-words\">\r\n                        {item.value || '-'}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// --- NEW COMPONENT: SearchModal (Modified) ---\r\nconst SearchModal = memo(({ \r\n  isOpen, \r\n  onClose, \r\n  personnelData, \r\n  stats, \r\n  onViewPerson, \r\n  onExport, \r\n  user \r\n}) => {\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  \r\n  // New state to track if a search has been initiated\r\n  const [hasSearched, setHasSearched] = useState(false);\r\n\r\n  const [filters, setFilters] = useState({\r\n    search: \"\", position: \"\", affiliation: \"\", deph: \"\", generation: \"\", connected: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setDebouncedSearch(searchInput), 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchInput]);\r\n\r\n  useEffect(() => {\r\n    // Automatically apply debounced search to filters if a search is active\r\n    if (hasSearched) {\r\n      setFilters(prev => ({ ...prev, search: debouncedSearch }));\r\n    }\r\n  }, [debouncedSearch, hasSearched]);\r\n\r\n  const filteredPersonnel = useMemo(() => {\r\n    // Only filter data if a search has been triggered\r\n    if (!hasSearched || !personnelData.length) return [];\r\n    \r\n    return personnelData.filter(person => {\r\n      if (filters.search) {\r\n        const searchTerm = filters.search.toLowerCase().trim();\r\n        const searchableFields = [\r\n          person.firstname, person.lastname, person.position, person.affiliation,\r\n          person.deph, person.phone, person.email, person.prefix,\r\n          person.generation ? `รุ่น${person.generation}` : '',\r\n          person.generation ? `รุ่น ${person.generation}` : '',\r\n          person.generation ? person.generation.toString() : ''\r\n        ];\r\n        const searchableText = searchableFields.filter(Boolean).join(' ').toLowerCase();\r\n        if (!searchableText.includes(searchTerm)) return false;\r\n      }\r\n      if (filters.position && person.position !== filters.position) return false;\r\n      if (filters.affiliation && person.affiliation !== filters.affiliation) return false;\r\n      if (filters.deph && person.deph !== filters.deph) return false;\r\n      if (filters.generation && (String(person.generation).trim() !== filters.generation)) return false;\r\n      return true;\r\n    });\r\n  }, [personnelData, filters, hasSearched]); // hasSearched is now a dependency\r\n  \r\n  const handleFiltersChange = useCallback((newFilters) => {\r\n    setFilters(newFilters);\r\n    // If filters are changed, we consider it a new search action\r\n    if (!hasSearched) setHasSearched(true);\r\n  }, [hasSearched]);\r\n\r\n  const clearAllFilters = useCallback(() => {\r\n    setFilters({ search: \"\", position: \"\", affiliation: \"\", deph: \"\", generation: \"\", connected: \"\" });\r\n    setSearchInput(\"\");\r\n    // Reset the search state to hide results\r\n    setHasSearched(false); \r\n  }, []);\r\n\r\n  const handleSearchClick = () => {\r\n    // Trigger the search and apply the current search input to filters\r\n    setFilters(prev => ({ ...prev, search: searchInput }));\r\n    setHasSearched(true);\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto bg-black/60\">\r\n      <div className=\"flex min-h-screen items-start justify-center p-4 sm:p-6 md:p-10\">\r\n        <div className=\"relative bg-slate-50 rounded-3xl shadow-2xl max-w-7xl w-full\"> {/* Increased max-width for better layout */}\r\n          <div className=\"sticky top-0 bg-slate-50/80 backdrop-blur-lg border-b border-slate-200 px-6 py-4 rounded-t-3xl z-10\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-xl font-semibold text-slate-900\">ค้นหาบุคลากร</h2>\r\n              <button onClick={onClose} className=\"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-lg\">\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6 space-y-4 max-h-[80vh] overflow-y-auto\">\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-200\">\r\n              <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"ค้นหาด้วยชื่อ, ตำแหน่ง, สังกัด, รุ่น...\"\r\n                    value={searchInput}\r\n                    onChange={(e) => setSearchInput(e.target.value)}\r\n                    onKeyDown={(e) => { if (e.key === 'Enter') handleSearchClick(); }} // Allow Enter key to search\r\n                    className=\"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                   {/* New Search Button */}\r\n                   <button \r\n                     onClick={handleSearchClick} \r\n                     className=\"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors\"\r\n                   >\r\n                     <Search className=\"w-4 h-4\" />\r\n                     <span>ค้นหา</span>\r\n                   </button>\r\n                   <button \r\n                     onClick={() => onExport(filteredPersonnel)} \r\n                     className=\"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl disabled:opacity-50\"\r\n                     disabled={!hasSearched || filteredPersonnel.length === 0}\r\n                   >\r\n                     <Download className=\"w-4 h-4\" />\r\n                     <span>Export ({hasSearched ? filteredPersonnel.length : 0})</span>\r\n                   </button>\r\n                   <button \r\n                     onClick={() => setShowFilters(!showFilters)} \r\n                     className={`flex items-center space-x-2 px-4 py-2 border rounded-xl ${showFilters ? 'bg-indigo-50 border-indigo-200' : 'border-slate-200'}`}\r\n                   >\r\n                     <Filter className=\"w-4 h-4\" />\r\n                     <span>ตัวกรอง</span>\r\n                   </button>\r\n                </div>\r\n              </div>\r\n               {hasSearched && ( // Only show results count and clear button after a search\r\n                <div className=\"mt-3 flex items-center justify-between text-sm text-slate-600\">\r\n                    <span>แสดง {filteredPersonnel.length} จาก {personnelData.length} คน</span>\r\n                    <button onClick={clearAllFilters} className=\"text-indigo-600 hover:text-indigo-800 font-medium\">ล้างการค้นหา</button>\r\n                </div>\r\n               )}\r\n            </div>\r\n\r\n            <FilterPanel\r\n              filters={filters}\r\n              onFiltersChange={handleFiltersChange}\r\n              stats={stats}\r\n              personnelData={personnelData}\r\n              isOpen={showFilters}\r\n              onToggle={() => setShowFilters(false)}\r\n            />\r\n\r\n            {/* --- MODIFIED RESULTS SECTION --- */}\r\n            {!hasSearched ? (\r\n                // Initial state before any search\r\n                <div className=\"text-center py-16\">\r\n                    <Search className=\"w-16 h-16 text-slate-300 mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-semibold text-slate-900\">เริ่มการค้นหา</h3>\r\n                    <p className=\"text-slate-600\">ใช้แถบค้นหาหรือตัวกรองเพื่อแสดงข้อมูลบุคลากร</p>\r\n                </div>\r\n            ) : filteredPersonnel.length === 0 ? (\r\n                // State when search is done but no results are found\r\n                 <div className=\"text-center py-16\">\r\n                    <Users className=\"w-16 h-16 text-slate-300 mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-semibold text-slate-900\">ไม่พบข้อมูล</h3>\r\n                    <p className=\"text-slate-600\">ลองปรับเปลี่ยนคำค้นหาหรือตัวกรองของคุณ</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"animate-fade-in-up\">\r\n                    {/* Updated Grid Layout: 3 columns on large screens */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {filteredPersonnel.map((person, index) => (\r\n                            <PersonnelCard\r\n                                key={`${person.phone}-${index}`}\r\n                                person={person}\r\n                                onView={onViewPerson}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* --- Added Style for Animation --- */}\r\n      <style>{`\r\n        @keyframes fadeInUp {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .animate-fade-in-up {\r\n          animation: fadeInUp 0.5s ease-out forwards;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Main PersonnelPage Component\r\n// Main PersonnelPage Component\r\n// EditableCard Component\r\nconst EditableCard = memo(({ title, value, icon: Icon, color = \"blue\", isEditing, onEdit, onChange, isAdmin }) => {\r\n  const [localValue, setLocalValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    setLocalValue(value);\r\n  }, [value]);\r\n\r\n  const handleChange = (e) => {\r\n    const newValue = parseInt(e.target.value) || 0;\r\n    setLocalValue(newValue);\r\n    onChange(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <div className={`w-12 h-12 bg-${color}-100 rounded-xl flex items-center justify-center`}>\r\n          <Icon className={`w-6 h-6 text-${color}-600`} />\r\n        </div>\r\n        {isAdmin && (\r\n          <button\r\n            onClick={onEdit}\r\n            className=\"text-slate-400 hover:text-slate-600 transition-colors\"\r\n          >\r\n            {isEditing ? (\r\n              <Save className=\"w-5 h-5\" />\r\n            ) : (\r\n              <Edit2 className=\"w-5 h-5\" />\r\n            )}\r\n          </button>\r\n        )}\r\n      </div>\r\n      {isEditing ? (\r\n        <input\r\n          type=\"number\"\r\n          value={localValue}\r\n          onChange={handleChange}\r\n          className=\"w-full text-3xl font-bold text-slate-900 mb-1 bg-slate-50 border border-slate-200 rounded px-2 py-1\"\r\n          min=\"0\"\r\n        />\r\n      ) : (\r\n        <div className=\"text-3xl font-bold text-slate-900 mb-1\">{localValue}</div>\r\n      )}\r\n      <div className=\"text-sm text-slate-600\">{title}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default function PersonnelPage({ user }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [personnelData, setPersonnelData] = useState([]);\r\n  const [selectedPerson, setSelectedPerson] = useState(null);\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  const [showSearchModal, setShowSearchModal] = useState(false);\r\n\r\n  const [quota, setQuota] = useState(100);\r\n  const [vacancy, setVacancy] = useState(20);\r\n  const [isEditingQuota, setIsEditingQuota] = useState(false);\r\n  const [isEditingVacancy, setIsEditingVacancy] = useState(false);\r\n\r\n  const logAdminActivity = useCallback((action, details) => {\r\n    if (!user) return;\r\n    fetch(CONFIG.ADMIN_API, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        action: 'log_activity',\r\n        log_action: action,\r\n        log_details: details || null,\r\n        user_id: user.id,\r\n        username: user.username,\r\n      }),\r\n    }).catch((error) => console.error('Failed to log activity:', error));\r\n  }, [user]);\r\n\r\n  const fetchPersonnelData = useCallback(async () => {\r\n    try {\r\n      const apiUrl = CONFIG.OFFICERS_API;\r\n      const response = await fetch(apiUrl);\r\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n      const text = await response.text();\r\n      if (!text) throw new Error('Empty response from server');\r\n      const result = JSON.parse(text);\r\n      const data = result.success && Array.isArray(result.data) ? result.data : [];\r\n      const formattedData = data.map((person) => ({\r\n        phone: person.phone || '',\r\n        prefix: person.prefix || '',\r\n        firstname: person.firstname || '',\r\n        lastname: person.lastname || '',\r\n        position: person.position || '',\r\n        affiliation: person.affiliation || '',\r\n        deph: person.department || '',\r\n        generation: person.generation || '',\r\n        email: person.email || '',\r\n        dob: person.dob || '',\r\n        lineUserId: person.lineUserId || '',\r\n        role: person.role || 'member',\r\n      }));\r\n      setPersonnelData(formattedData);\r\n      setError(\"\");\r\n    } catch (error) {\r\n      setError(`⚠️ ${error.message}`);\r\n      setPersonnelData([]);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchPersonnelData();\r\n  }, [fetchPersonnelData]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefreshing(true);\r\n    fetchPersonnelData().finally(() => setRefreshing(false));\r\n  };\r\n\r\n  const handleViewPerson = (person) => {\r\n    setSelectedPerson(person);\r\n    setShowDetail(true);\r\n  };\r\n\r\n  const exportToCSV = (data) => {\r\n    // Implement CSV export logic here\r\n  };\r\n\r\n  const stats = useMemo(() => {\r\n    const newStats = {\r\n      total: personnelData.length,\r\n      connected: personnelData.filter((p) => p.lineUserId).length,\r\n      byPosition: {},\r\n      byAffiliation: {},\r\n      byDepartment: {},\r\n      byGeneration: {},\r\n    };\r\n    personnelData.forEach((person) => {\r\n      const position = person.position || 'ไม่ระบุ';\r\n      newStats.byPosition[position] = (newStats.byPosition[position] || 0) + 1;\r\n      const affiliation = person.affiliation || 'ไม่ระบุ';\r\n      newStats.byAffiliation[affiliation] = (newStats.byAffiliation[affiliation] || 0) + 1;\r\n      const department = person.deph || 'ไม่ระบุ';\r\n      newStats.byDepartment[department] = (newStats.byDepartment[department] || 0) + 1;\r\n      const generation = person.generation ? String(person.generation).trim() : 'ไม่ระบุ';\r\n      newStats.byGeneration[generation] = (newStats.byGeneration[generation] || 0) + 1;\r\n    });\r\n    return newStats;\r\n  }, [personnelData]);\r\n\r\n  const chartData = useMemo(() => {\r\n    const positionChartData = Object.entries(stats.byPosition)\r\n      .sort(([, a], [, b]) => b - a)\r\n      .slice(0, 8)\r\n      .map(([label, value]) => ({ label: truncatePosition(label) || label, value }));\r\n\r\n    const affiliationChartData = Object.entries(stats.byAffiliation)\r\n      .filter(([label]) => label !== 'ไม่ระบุ' && label.trim() !== '')\r\n      .map(([label, value]) => ({ label, value }));\r\n\r\n    const generationChartData = Object.entries(stats.byGeneration)\r\n      .filter(([gen]) => gen !== 'ไม่ระบุ' && gen.trim() !== '')\r\n      .map(([label, value]) => ({ label: `รุ่น ${label}`, value }));\r\n\r\n    return { positionChartData, affiliationChartData, generationChartData };\r\n  }, [stats]);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-slate-800\">ข้อมูลบุคลากร</h1>\r\n        <div className=\"flex items-center space-x-3\">\r\n          <button\r\n            onClick={() => setShowSearchModal(true)}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow\"\r\n          >\r\n            <Search className=\"w-4 h-4\" />\r\n            <span>ค้นหาบุคลากร</span>\r\n          </button>\r\n          <button\r\n            onClick={handleRefresh}\r\n            disabled={refreshing}\r\n            className=\"p-2 border border-slate-200 text-slate-600 hover:bg-slate-50 rounded-xl disabled:opacity-50\"\r\n          >\r\n            <RefreshCw className={`w-5 h-5 ${refreshing ? 'animate-spin' : ''}`} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"border rounded-2xl p-4 flex items-start space-x-3 bg-red-50 border-red-200 mb-6\">\r\n          <AlertCircle className=\"w-5 h-5 flex-shrink-0 mt-0.5 text-red-500\" />\r\n          <div>\r\n            <p className=\"font-medium text-red-800\">เกิดข้อผิดพลาด</p>\r\n            <p className=\"text-sm text-red-700\">{error}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <EditableCard\r\n          title=\"กรอบอัตรา\"\r\n          value={quota}\r\n          icon={Briefcase}\r\n          color=\"blue\"\r\n          isEditing={isEditingQuota}\r\n          onEdit={() => setIsEditingQuota(!isEditingQuota)}\r\n          onChange={(value) => setQuota(value)}\r\n          isAdmin={user?.role === 'admin'}\r\n        />\r\n        <EditableCard\r\n          title=\"ตำแหน่งว่าง\"\r\n          value={vacancy}\r\n          icon={UserX}\r\n          color=\"red\"\r\n          isEditing={isEditingVacancy}\r\n          onEdit={() => setIsEditingVacancy(!isEditingVacancy)}\r\n          onChange={(value) => setVacancy(value)}\r\n          isAdmin={user?.role === 'admin'}\r\n        />\r\n        <StatCard\r\n          title=\"บุคลากรทั้งหมด\"\r\n          value={stats.total}\r\n          icon={Users}\r\n          color=\"green\"\r\n          subtitle=\"ทั้งหมดในระบบ\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n        <div className=\"bg-white rounded-2xl shadow border border-slate-200 p-6\">\r\n          <h2 className=\"text-lg font-semibold text-slate-800 mb-4 flex items-center\">\r\n            <BarChart3 className=\"w-5 h-5 mr-2 text-indigo-400\" />ตำแหน่งยอดนิยม\r\n          </h2>\r\n          <ul className=\"space-y-2\">\r\n            {chartData.positionChartData.map((item) => (\r\n              <li key={item.label} className=\"flex justify-between items-center\">\r\n                <span className=\"text-slate-700 font-medium\">{item.label}</span>\r\n                <span className=\"text-slate-600\">{item.value} คน</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"bg-white rounded-2xl shadow border border-slate-200 p-6\">\r\n          <h2 className=\"text-lg font-semibold text-slate-800 mb-4 flex items-center\">\r\n            <PieChart className=\"w-5 h-5 mr-2 text-pink-400\" />สัดส่วนแต่ละภาค\r\n          </h2>\r\n          <ul className=\"space-y-2\">\r\n            {chartData.affiliationChartData.map((item) => (\r\n              <li key={item.label} className=\"flex justify-between items-center\">\r\n                <span className=\"text-slate-700 font-medium\">{item.label}</span>\r\n                <span className=\"text-slate-600\">{item.value} คน</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <PersonnelDetailModal\r\n        person={selectedPerson}\r\n        isOpen={showDetail}\r\n        onClose={() => setShowDetail(false)}\r\n      />\r\n      <SearchModal\r\n        isOpen={showSearchModal}\r\n        onClose={() => setShowSearchModal(false)}\r\n        personnelData={personnelData}\r\n        stats={stats}\r\n        onViewPerson={handleViewPerson}\r\n        onExport={exportToCSV}\r\n        user={user}\r\n      />\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}