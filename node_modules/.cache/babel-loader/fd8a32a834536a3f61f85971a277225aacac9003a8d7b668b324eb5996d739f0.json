{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apiwa\\\\Documents\\\\GitHub\\\\C\\\\src\\\\components\\\\UnitStructure\\\\CurrentMemberCard.js\";\nimport React from 'react';\nimport { Crown, Star, User, Trash2 } from 'lucide-react';\nimport { CONFIG } from '../../config';\n\n// Component สำหรับแสดงบุคลากรปัจจุบัน\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CurrentMemberCard = ({\n  member,\n  onRefresh\n}) => {\n  const handleDelete = async structureId => {\n    if (!window.confirm('คุณต้องการลบข้อมูลนี้หรือไม่?')) return;\n    try {\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}/${structureId}`, {\n        method: 'DELETE'\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert('ลบข้อมูลสำเร็จ');\n        onRefresh();\n      } else {\n        alert(data.message || 'เกิดข้อผิดพลาดในการลบข้อมูล');\n      }\n    } catch (error) {\n      console.error('Error deleting structure:', error);\n      alert('เกิดข้อผิดพลาดในการลบข้อมูล');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between p-3 bg-slate-50 rounded-lg border\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-8 h-8 rounded-full flex items-center justify-center ${member.role === 'director' ? 'bg-purple-100 text-purple-600' : member.role === 'supervisor' ? 'bg-blue-100 text-blue-600' : 'bg-green-100 text-green-600'}`,\n        children: member.role === 'director' ? /*#__PURE__*/_jsxDEV(Crown, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 41\n        }, this) : member.role === 'supervisor' ? /*#__PURE__*/_jsxDEV(Star, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 43\n        }, this) : /*#__PURE__*/_jsxDEV(User, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-slate-800\",\n          children: member.full_name || `${member.prefix || ''} ${member.firstname || ''} ${member.lastname || ''}`.trim()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-500\",\n          children: [member.role === 'director' ? 'ผู้อำนวยการ' : member.role === 'supervisor' ? 'หัวหน้าส่วน' : 'เจ้าหน้าที่', member.role !== 'director' && ` (ลำดับที่ ${member.seniority_order})`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleDelete(member.id),\n      className: \"p-1 text-slate-400 hover:text-red-600 rounded\",\n      title: \"\\u0E25\\u0E1A\",\n      children: /*#__PURE__*/_jsxDEV(Trash2, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_c = CurrentMemberCard;\nexport default CurrentMemberCard;\nvar _c;\n$RefreshReg$(_c, \"CurrentMemberCard\");","map":{"version":3,"names":["React","Crown","Star","User","Trash2","CONFIG","jsxDEV","_jsxDEV","CurrentMemberCard","member","onRefresh","handleDelete","structureId","window","confirm","response","fetch","UNIT_STRUCTURE_API","method","data","json","success","alert","message","error","console","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","full_name","prefix","firstname","lastname","trim","seniority_order","onClick","id","title","_c","$RefreshReg$"],"sources":["C:/Users/apiwa/Documents/GitHub/C/src/components/UnitStructure/CurrentMemberCard.js"],"sourcesContent":["import React from 'react';\r\nimport { Crown, Star, User, Trash2 } from 'lucide-react';\r\nimport { CONFIG } from '../../config';\r\n\r\n// Component สำหรับแสดงบุคลากรปัจจุบัน\r\nconst CurrentMemberCard = ({ member, onRefresh }) => {\r\n  const handleDelete = async (structureId) => {\r\n    if (!window.confirm('คุณต้องการลบข้อมูลนี้หรือไม่?')) return;\r\n\r\n    try {\r\n      const response = await fetch(`${CONFIG.UNIT_STRUCTURE_API}/${structureId}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        alert('ลบข้อมูลสำเร็จ');\r\n        onRefresh();\r\n      } else {\r\n        alert(data.message || 'เกิดข้อผิดพลาดในการลบข้อมูล');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting structure:', error);\r\n      alert('เกิดข้อผิดพลาดในการลบข้อมูล');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg border\">\r\n      <div className=\"flex items-center space-x-3\">\r\n        <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\r\n          member.role === 'director' ? 'bg-purple-100 text-purple-600' :\r\n          member.role === 'supervisor' ? 'bg-blue-100 text-blue-600' :\r\n          'bg-green-100 text-green-600'\r\n        }`}>\r\n          {member.role === 'director' ? <Crown className=\"w-4 h-4\" /> :\r\n           member.role === 'supervisor' ? <Star className=\"w-4 h-4\" /> :\r\n           <User className=\"w-4 h-4\" />}\r\n        </div>\r\n        <div>\r\n          <div className=\"font-medium text-slate-800\">\r\n            {member.full_name || `${member.prefix || ''} ${member.firstname || ''} ${member.lastname || ''}`.trim()}\r\n          </div>\r\n          <div className=\"text-sm text-slate-500\">\r\n            {member.role === 'director' ? 'ผู้อำนวยการ' :\r\n             member.role === 'supervisor' ? 'หัวหน้าส่วน' :\r\n             'เจ้าหน้าที่'} \r\n            {member.role !== 'director' && ` (ลำดับที่ ${member.seniority_order})`}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button\r\n        onClick={() => handleDelete(member.id)}\r\n        className=\"p-1 text-slate-400 hover:text-red-600 rounded\"\r\n        title=\"ลบ\"\r\n      >\r\n        <Trash2 className=\"w-4 h-4\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentMemberCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}